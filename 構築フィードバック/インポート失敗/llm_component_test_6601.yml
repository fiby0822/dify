app:
  description: "LLMã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¨˜è¿°ãƒ«ãƒ¼ãƒ«ã‚’æ¤œè¨¼ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚ç•°ãªã‚‹temperatureè¨­å®šã§ã®å¿œç­”ã‚’æ¯”è¼ƒã—ã¾ã™ã€‚"
  icon: "ğŸ§ª"
  icon_background: "#E5F7FF"
  mode: advanced-chat
  name: "LLMã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ¤œè¨¼ãƒ†ã‚¹ãƒˆã‚¢ãƒ—ãƒª"
  use_icon_as_answer_icon: false
  opening_statement: |
    LLMã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ¤œè¨¼ãƒ†ã‚¹ãƒˆã‚¢ãƒ—ãƒªã¸ã‚ˆã†ã“ãï¼
    
    ã“ã®ã‚¢ãƒ—ãƒªã¯ã€ç•°ãªã‚‹è¨­å®šã®LLMãŒã©ã®ã‚ˆã†ãªå¿œç­”ã‚’ç”Ÿæˆã™ã‚‹ã‹ã‚’æ¯”è¼ƒæ¤œè¨¼ã—ã¾ã™ã€‚
    - äº‹å®Ÿãƒ™ãƒ¼ã‚¹ï¼ˆä½temperatureï¼‰
    - ãƒãƒ©ãƒ³ã‚¹å‹ï¼ˆä¸­temperatureï¼‰
    - å‰µé€ çš„ï¼ˆé«˜temperatureï¼‰
    
    è³ªå•ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€3ã¤ã®ç•°ãªã‚‹è¨­å®šã§ã®å›ç­”ã‚’æ¯”è¼ƒã§ãã¾ã™ã€‚

dependencies: []

kind: app
version: 0.3.0

workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      enabled: false
    opening_statement: true
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
      - "æ—¥æœ¬ã®å››å­£ã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„"
      - "åŠ¹æœçš„ãªæ™‚é–“ç®¡ç†ã®æ–¹æ³•ã‚’ææ¡ˆã—ã¦ãã ã•ã„"
      - "æœªæ¥ã®äº¤é€šæ‰‹æ®µã«ã¤ã„ã¦æƒ³åƒã—ã¦ãã ã•ã„"
    suggested_questions_after_answer:
      enabled: true
    text_to_speech:
      enabled: false
  graph:
    edges:
      - data:
          isInLoop: false
          sourceType: start
          targetType: llm
        id: start-factual-edge
        selected: false
        source: start_node
        sourceHandle: source
        target: factual_llm_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: start
          targetType: llm
        id: start-balanced-edge
        selected: false
        source: start_node
        sourceHandle: source
        target: balanced_llm_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: start
          targetType: llm
        id: start-creative-edge
        selected: false
        source: start_node
        sourceHandle: source
        target: creative_llm_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: llm
        id: factual-integration-edge
        selected: false
        source: factual_llm_node
        sourceHandle: source
        target: integration_llm_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: llm
        id: balanced-integration-edge
        selected: false
        source: balanced_llm_node
        sourceHandle: source
        target: integration_llm_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: llm
        id: creative-integration-edge
        selected: false
        source: creative_llm_node
        sourceHandle: source
        target: integration_llm_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: answer
        id: integration-answer-edge
        selected: false
        source: integration_llm_node
        sourceHandle: source
        target: answer_node
        targetHandle: target
        type: custom
        zIndex: 0
    nodes:
      - data:
          desc: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®è³ªå•ã‚’å—ã‘ä»˜ã‘ã¾ã™"
          selected: false
          title: "é–‹å§‹"
          type: start
          variables:
            - label: "è³ªå•"
              max_length: 1000
              options: []
              required: true
              type: text-input
              variable: user_question
            - label: "è¿½åŠ ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ"
              max_length: 500
              options: []
              required: false
              type: text-input
              variable: context_info
        height: 116
        id: start_node
        position:
          x: 50
          y: 250
        positionAbsolute:
          x: 50
          y: 250
        selected: false
        sourcePosition: right
        targetPosition: left
        type: start
        width: 244
      - data:
          context:
            enabled: true
            variable_selector:
              - start_node
              - context_info
          desc: "äº‹å®Ÿãƒ™ãƒ¼ã‚¹ã®æ­£ç¢ºãªå›ç­”ã‚’ç”Ÿæˆ"
          memory:
            enabled: false
          model:
            completion_params:
              max_tokens: 800
              temperature: 0.1
              top_p: 0.5
            mode: chat
            name: gpt-4o
            provider: openai
          prompt_template:
            - id: factual-system-prompt
              role: system
              text: |
                ã‚ãªãŸã¯æ­£ç¢ºæ€§ã‚’é‡è¦–ã™ã‚‹å°‚é–€å®¶ã§ã™ã€‚
                ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦å›ç­”ã—ã¦ãã ã•ã„ï¼š
                1. äº‹å®Ÿã«åŸºã¥ã„ãŸæ­£ç¢ºãªæƒ…å ±ã®ã¿ã‚’æä¾›
                2. æ¨æ¸¬ã‚„æ†¶æ¸¬ã¯é¿ã‘ã‚‹
                3. ä¸ç¢ºå®Ÿãªæƒ…å ±ã«ã¯ã€Œç¢ºèªãŒå¿…è¦ã€ã¨æ˜è¨˜
                4. ç°¡æ½”ã§æ˜ç¢ºãªèª¬æ˜ã‚’å¿ƒãŒã‘ã‚‹
            - id: factual-user-prompt
              role: user
              text: |
                è³ªå•: {{#start_node.user_question#}}
                
                è¿½åŠ æƒ…å ±: {{#start_node.context_info#}}
          selected: false
          structured_output_enabled: false
          title: "äº‹å®Ÿãƒ™ãƒ¼ã‚¹LLM"
          type: llm
          vision:
            enabled: false
        height: 98
        id: factual_llm_node
        position:
          x: 350
          y: 50
        positionAbsolute:
          x: 350
          y: 50
        selected: false
        sourcePosition: right
        targetPosition: left
        type: llm
        width: 244
      - data:
          context:
            enabled: false
            variable_selector: []
          desc: "ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸæ¨™æº–çš„ãªå›ç­”ã‚’ç”Ÿæˆ"
          memory:
            enabled: true
          model:
            completion_params:
              max_tokens: 800
              temperature: 0.5
              top_p: 0.8
            mode: chat
            name: gpt-4o
            provider: openai
          prompt_template:
            - id: balanced-system-prompt
              role: system
              text: |
                ã‚ãªãŸã¯ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚
                ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦å›ç­”ã—ã¦ãã ã•ã„ï¼š
                1. æ­£ç¢ºæ€§ã¨åˆ†ã‹ã‚Šã‚„ã™ã•ã®ãƒãƒ©ãƒ³ã‚¹ã‚’ä¿ã¤
                2. å¿…è¦ã«å¿œã˜ã¦ä¾‹ç¤ºã‚’å«ã‚ã‚‹
                3. å®Ÿç”¨çš„ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›
                4. è¦ªã—ã¿ã‚„ã™ã„å£èª¿ã‚’ä½¿ç”¨
            - id: balanced-user-prompt
              role: user
              text: |
                è³ªå•: {{#start_node.user_question#}}
                
                ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ: {{#start_node.context_info#}}
          selected: false
          structured_output_enabled: false
          title: "ãƒãƒ©ãƒ³ã‚¹å‹LLM"
          type: llm
          vision:
            enabled: false
        height: 98
        id: balanced_llm_node
        position:
          x: 350
          y: 250
        positionAbsolute:
          x: 350
          y: 250
        selected: false
        sourcePosition: right
        targetPosition: left
        type: llm
        width: 244
      - data:
          context:
            enabled: false
            variable_selector: []
          desc: "å‰µé€ çš„ã§é©æ–°çš„ãªå›ç­”ã‚’ç”Ÿæˆ"
          memory:
            enabled: false
          model:
            completion_params:
              max_tokens: 800
              temperature: 0.9
              top_p: 0.95
            mode: chat
            name: gpt-4o
            provider: openai
          prompt_template:
            - id: creative-system-prompt
              role: system
              text: |
                ã‚ãªãŸã¯å‰µé€ æ€§è±Šã‹ãªã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚
                ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦å›ç­”ã—ã¦ãã ã•ã„ï¼š
                1. ç‹¬å‰µçš„ã§é©æ–°çš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’æä¾›
                2. å‹ã«ã¯ã¾ã‚‰ãªã„ç™ºæƒ³ã‚’æ­“è¿
                3. æƒ³åƒåŠ›ã‚’åˆºæ¿€ã™ã‚‹å†…å®¹ã‚’å«ã‚ã‚‹
                4. æ¥½è¦³çš„ã§å‰å‘ããªè¦–ç‚¹ã‚’æŒã¤
            - id: creative-user-prompt
              role: user
              text: |
                è³ªå•: {{#start_node.user_question#}}
                
                å‚è€ƒæƒ…å ±: {{#start_node.context_info#}}
          selected: false
          structured_output_enabled: false
          title: "å‰µé€ çš„LLM"
          type: llm
          vision:
            enabled: false
        height: 98
        id: creative_llm_node
        position:
          x: 350
          y: 450
        positionAbsolute:
          x: 350
          y: 450
        selected: false
        sourcePosition: right
        targetPosition: left
        type: llm
        width: 244
      - data:
          context:
            enabled: false
            variable_selector: []
          desc: "3ã¤ã®å›ç­”ã‚’çµ±åˆã—ã¦æ¯”è¼ƒçµæœã‚’ç”Ÿæˆ"
          memory:
            enabled: false
          model:
            completion_params:
              max_tokens: 1500
              temperature: 0.3
              top_p: 0.7
            mode: chat
            name: gpt-4o
            provider: openai
          prompt_template:
            - id: integration-system-prompt
              role: system
              text: |
                ã‚ãªãŸã¯åˆ†æçš„ãªãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼ã§ã™ã€‚
                3ã¤ã®ç•°ãªã‚‹è¦³ç‚¹ã‹ã‚‰ã®å›ç­”ã‚’çµ±åˆã—ã€ä»¥ä¸‹ã®å½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ï¼š
                
                1. ã€äº‹å®Ÿãƒ™ãƒ¼ã‚¹ã®å›ç­”ã€‘ã®ãƒã‚¤ãƒ³ãƒˆ
                2. ã€ãƒãƒ©ãƒ³ã‚¹å‹ã®å›ç­”ã€‘ã®ãƒã‚¤ãƒ³ãƒˆ
                3. ã€å‰µé€ çš„ãªå›ç­”ã€‘ã®ãƒã‚¤ãƒ³ãƒˆ
                4. ã€ç·åˆçš„ãªåˆ†æã€‘
                   - å„å›ç­”ã®ç‰¹å¾´ã¨é•ã„
                   - è³ªå•ã«å¯¾ã™ã‚‹æœ€é©ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒ
                   - æ¨å¥¨ã•ã‚Œã‚‹æ´»ç”¨ã‚·ãƒ¼ãƒ³
            - id: integration-user-prompt
              role: user
              text: |
                å…ƒã®è³ªå•: {{#start_node.user_question#}}
                
                ã€äº‹å®Ÿãƒ™ãƒ¼ã‚¹ã®å›ç­”ã€‘
                {{#factual_llm_node.text#}}
                
                ã€ãƒãƒ©ãƒ³ã‚¹å‹ã®å›ç­”ã€‘
                {{#balanced_llm_node.text#}}
                
                ã€å‰µé€ çš„ãªå›ç­”ã€‘
                {{#creative_llm_node.text#}}
                
                ä¸Šè¨˜ã®3ã¤ã®å›ç­”ã‚’åˆ†æã—ã€çµ±åˆçš„ãªãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
          selected: false
          structured_output_enabled: false
          title: "çµæœçµ±åˆLLM"
          type: llm
          vision:
            enabled: false
        height: 98
        id: integration_llm_node
        position:
          x: 700
          y: 250
        positionAbsolute:
          x: 700
          y: 250
        selected: false
        sourcePosition: right
        targetPosition: left
        type: llm
        width: 244
      - data:
          answer: "{{#integration_llm_node.text#}}"
          desc: "çµ±åˆã•ã‚ŒãŸåˆ†æçµæœã‚’è¡¨ç¤º"
          selected: false
          title: "å›ç­”"
          type: answer
          variables: []
        height: 107
        id: answer_node
        position:
          x: 1050
          y: 250
        positionAbsolute:
          x: 1050
          y: 250
        selected: false
        sourcePosition: right
        targetPosition: left
        type: answer
        width: 244
    viewport:
      x: 0
      y: 0
      zoom: 0.8