app:
  description: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å•ã„åˆã‚ã›ã‚’ã‚«ãƒ†ã‚´ãƒªåˆ†é¡ã—ã€é©åˆ‡ãªçŸ¥è­˜ãƒ™ãƒ¼ã‚¹ã‹ã‚‰æƒ…å ±ã‚’æ¤œç´¢ã—ã¦å›ç­”ã™ã‚‹"
  icon: "ğŸ“š"
  icon_background: "#FFEAD5"
  mode: advanced-chat
  name: "ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆçŸ¥è­˜ãƒ™ãƒ¼ã‚¹æ¤œç´¢ã‚·ã‚¹ãƒ†ãƒ "
  use_icon_as_answer_icon: false

dependencies: []

kind: app

version: 0.3.0

workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_extensions: []
      enabled: false
    opening_statement: ""
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ""
      voice: ""
  graph:
    edges:
      - data:
          isInLoop: false
          sourceType: start
          targetType: llm
        id: start-to-classifier
        selected: false
        source: start_node
        sourceHandle: source
        target: query_classifier
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: if-else
        id: classifier-to-condition
        selected: false
        source: query_classifier
        sourceHandle: source
        target: category_condition
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: knowledge-retrieval
        id: condition-to-tech-search
        selected: false
        source: category_condition
        sourceHandle: technical_case
        target: tech_knowledge_search
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: knowledge-retrieval
        id: condition-to-operation-search
        selected: false
        source: category_condition
        sourceHandle: operation_case
        target: operation_knowledge_search
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: knowledge-retrieval
        id: condition-to-trouble-search
        selected: false
        source: category_condition
        sourceHandle: troubleshoot_case
        target: trouble_knowledge_search
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: knowledge-retrieval
        id: condition-to-other-search
        selected: false
        source: category_condition
        sourceHandle: "false"
        target: other_knowledge_search
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: knowledge-retrieval
          targetType: llm
        id: tech-search-to-llm
        selected: false
        source: tech_knowledge_search
        sourceHandle: source
        target: tech_answer_generator
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: knowledge-retrieval
          targetType: llm
        id: operation-search-to-llm
        selected: false
        source: operation_knowledge_search
        sourceHandle: source
        target: operation_answer_generator
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: knowledge-retrieval
          targetType: llm
        id: trouble-search-to-llm
        selected: false
        source: trouble_knowledge_search
        sourceHandle: source
        target: trouble_answer_generator
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: knowledge-retrieval
          targetType: llm
        id: other-search-to-llm
        selected: false
        source: other_knowledge_search
        sourceHandle: source
        target: other_answer_generator
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: answer
        id: tech-llm-to-answer
        selected: false
        source: tech_answer_generator
        sourceHandle: source
        target: tech_answer
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: answer
        id: operation-llm-to-answer
        selected: false
        source: operation_answer_generator
        sourceHandle: source
        target: operation_answer
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: answer
        id: trouble-llm-to-answer
        selected: false
        source: trouble_answer_generator
        sourceHandle: source
        target: trouble_answer
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: answer
        id: other-llm-to-answer
        selected: false
        source: other_answer_generator
        sourceHandle: source
        target: other_answer
        targetHandle: target
        type: custom
        zIndex: 0
    nodes:
      - data:
          desc: ""
          selected: false
          title: "é–‹å§‹"
          type: start
          variables: []
        height: 54
        id: start_node
        position:
          x: 80
          y: 300
        positionAbsolute:
          x: 80
          y: 300
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          context:
            enabled: false
            variable_selector: []
          desc: ""
          model:
            completion_params:
              temperature: 0.3
            mode: chat
            name: gpt-4o-mini
            provider: openai
          prompt_template:
            - id: assistant
              role: assistant
              text: "ã‚ãªãŸã¯ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆã®å•ã„åˆã‚ã›åˆ†é¡å°‚é–€å®¶ã§ã™ã€‚\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å•ã„åˆã‚ã›ã‚’ä»¥ä¸‹ã®4ã¤ã®ã‚«ãƒ†ã‚´ãƒªã®ã„ãšã‚Œã‹ã«åˆ†é¡ã—ã¦ãã ã•ã„ã€‚\n\n1. æŠ€è¡“çš„ãªè³ªå•: ã‚¨ãƒ©ãƒ¼ã€ä¸å…·åˆã€å‹•ä½œã—ãªã„ã€ãƒã‚°ã€ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãªã©ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å«ã‚€\n2. æ“ä½œæ–¹æ³•ã®è³ªå•: ä½¿ã„æ–¹ã€æ–¹æ³•ã€ã‚„ã‚Šæ–¹ã€æ‰‹é †ã€è¨­å®šãªã©ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å«ã‚€\n3. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°: è§£æ±ºã€ç›´ã™ã€ä¿®æ­£ã€å¯¾å‡¦ã€å¾©æ—§ãªã©ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å«ã‚€\n4. ãã®ä»–: ä¸Šè¨˜ã«è©²å½“ã—ãªã„ä¸€èˆ¬çš„ãªå•ã„åˆã‚ã›\n\nå•ã„åˆã‚ã›å†…å®¹: {{#sys.query#}}\n\næœ€ã‚‚é©åˆ‡ãªã‚«ãƒ†ã‚´ãƒªã‚’1ã¤é¸ã‚“ã§å›ç­”ã—ã¦ãã ã•ã„ã€‚"
          selected: false
          title: "å•ã„åˆã‚ã›åˆ†é¡"
          type: llm
          variables: []
          vision:
            enabled: false
        height: 98
        id: query_classifier
        position:
          x: 380
          y: 300
        positionAbsolute:
          x: 380
          y: 300
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          cases:
            - id: technical_case
              case_id: technical_case
              conditions:
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "ã‚¨ãƒ©ãƒ¼"
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "ä¸å…·åˆ"
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "å‹•ä½œã—ãªã„"
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "ãƒã‚°"
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "ã‚¯ãƒ©ãƒƒã‚·ãƒ¥"
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "æŠ€è¡“çš„"
              logical_operator: or
            - id: operation_case
              case_id: operation_case
              conditions:
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "ä½¿ã„æ–¹"
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "æ–¹æ³•"
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "ã‚„ã‚Šæ–¹"
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "æ‰‹é †"
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "è¨­å®š"
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "æ“ä½œ"
              logical_operator: or
            - id: troubleshoot_case
              case_id: troubleshoot_case
              conditions:
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "è§£æ±º"
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "ç›´ã™"
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "ä¿®æ­£"
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "å¯¾å‡¦"
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "å¾©æ—§"
                - variable_selector:
                    - query_classifier
                    - text
                  comparison_operator: contains
                  value: "ãƒˆãƒ©ãƒ–ãƒ«"
              logical_operator: or
          desc: "ã‚«ãƒ†ã‚´ãƒªã«ã‚ˆã‚‹åˆ†å²"
          selected: false
          title: "ã‚«ãƒ†ã‚´ãƒªæ¡ä»¶åˆ†å²"
          type: if-else
        height: 210
        id: category_condition
        position:
          x: 680
          y: 280
        positionAbsolute:
          x: 680
          y: 280
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          dataset_ids:
            - "mUJqT0QSpLmBBBGsAg6tP+rLJoOBsXRCgClBvqhk7NKJWFKdH7o5AOBH9nG0DiXe"
          desc: ""
          query_variable_selector:
            - sys
            - query
          retrieval_mode: single
          selected: false
          title: "æŠ€è¡“çŸ¥è­˜æ¤œç´¢"
          type: knowledge-retrieval
        height: 92
        id: tech_knowledge_search
        position:
          x: 980
          y: 100
        positionAbsolute:
          x: 980
          y: 100
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          dataset_ids:
            - "7ccfkMYSp7EbvPLfz84xM+MGWesznlJf6laOpWdSR4vOjJa6XZ3W7JdALMg/4IRY"
          desc: ""
          query_variable_selector:
            - sys
            - query
          retrieval_mode: single
          selected: false
          title: "æ“ä½œæ–¹æ³•çŸ¥è­˜æ¤œç´¢"
          type: knowledge-retrieval
        height: 92
        id: operation_knowledge_search
        position:
          x: 980
          y: 250
        positionAbsolute:
          x: 980
          y: 250
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          dataset_ids:
            - "8ddglNZTq8FcwQMgz95yN+NHXftzomlKg7mbPqXeTR5wPkJb7YZ4X8KeALNh/5JSZ"
          desc: ""
          query_variable_selector:
            - sys
            - query
          retrieval_mode: single
          selected: false
          title: "ãƒˆãƒ©ãƒ–ãƒ«çŸ¥è­˜æ¤œç´¢"
          type: knowledge-retrieval
        height: 92
        id: trouble_knowledge_search
        position:
          x: 980
          y: 400
        positionAbsolute:
          x: 980
          y: 400
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          dataset_ids:
            - "9eehMOaUr9GdxRNha06zO+OIYguaplMLh8ncQrYfUS6xQlKc8Za5Y9LfBMOi/6KTa"
          desc: ""
          query_variable_selector:
            - sys
            - query
          retrieval_mode: single
          selected: false
          title: "ä¸€èˆ¬çŸ¥è­˜æ¤œç´¢"
          type: knowledge-retrieval
        height: 92
        id: other_knowledge_search
        position:
          x: 980
          y: 550
        positionAbsolute:
          x: 980
          y: 550
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          context:
            enabled: true
            variable_selector:
              - tech_knowledge_search
              - result
          desc: ""
          model:
            completion_params:
              temperature: 0.5
            mode: chat
            name: gpt-4o-mini
            provider: openai
          prompt_template:
            - id: assistant
              role: assistant
              text: "æŠ€è¡“çš„ãªå•é¡Œã«é–¢ã™ã‚‹å›ç­”ã‚’ç”Ÿæˆã—ã¾ã™ã€‚\n\næ¤œç´¢çµæœ:\n{{#tech_knowledge_search.result#}}\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•:\n{{#sys.query#}}\n\nä¸Šè¨˜ã®æ¤œç´¢çµæœã‚’åŸºã«ã€æŠ€è¡“çš„ãªå•é¡Œã«å¯¾ã™ã‚‹é©åˆ‡ãªå›ç­”ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚"
          selected: false
          title: "æŠ€è¡“å›ç­”ç”Ÿæˆ"
          type: llm
          variables: []
          vision:
            enabled: false
        height: 98
        id: tech_answer_generator
        position:
          x: 1280
          y: 100
        positionAbsolute:
          x: 1280
          y: 100
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          context:
            enabled: true
            variable_selector:
              - operation_knowledge_search
              - result
          desc: ""
          model:
            completion_params:
              temperature: 0.5
            mode: chat
            name: gpt-4o-mini
            provider: openai
          prompt_template:
            - id: assistant
              role: assistant
              text: "æ“ä½œæ–¹æ³•ã«é–¢ã™ã‚‹å›ç­”ã‚’ç”Ÿæˆã—ã¾ã™ã€‚\n\næ¤œç´¢çµæœ:\n{{#operation_knowledge_search.result#}}\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•:\n{{#sys.query#}}\n\nä¸Šè¨˜ã®æ¤œç´¢çµæœã‚’åŸºã«ã€æ“ä½œæ–¹æ³•ã«é–¢ã™ã‚‹åˆ†ã‹ã‚Šã‚„ã™ã„å›ç­”ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚"
          selected: false
          title: "æ“ä½œæ–¹æ³•å›ç­”ç”Ÿæˆ"
          type: llm
          variables: []
          vision:
            enabled: false
        height: 98
        id: operation_answer_generator
        position:
          x: 1280
          y: 250
        positionAbsolute:
          x: 1280
          y: 250
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          context:
            enabled: true
            variable_selector:
              - trouble_knowledge_search
              - result
          desc: ""
          model:
            completion_params:
              temperature: 0.5
            mode: chat
            name: gpt-4o-mini
            provider: openai
          prompt_template:
            - id: assistant
              role: assistant
              text: "ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«é–¢ã™ã‚‹å›ç­”ã‚’ç”Ÿæˆã—ã¾ã™ã€‚\n\næ¤œç´¢çµæœ:\n{{#trouble_knowledge_search.result#}}\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•:\n{{#sys.query#}}\n\nä¸Šè¨˜ã®æ¤œç´¢çµæœã‚’åŸºã«ã€å•é¡Œè§£æ±ºã®ãŸã‚ã®å…·ä½“çš„ãªæ‰‹é †ã‚’å«ã‚€å›ç­”ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚"
          selected: false
          title: "ãƒˆãƒ©ãƒ–ãƒ«å›ç­”ç”Ÿæˆ"
          type: llm
          variables: []
          vision:
            enabled: false
        height: 98
        id: trouble_answer_generator
        position:
          x: 1280
          y: 400
        positionAbsolute:
          x: 1280
          y: 400
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          context:
            enabled: true
            variable_selector:
              - other_knowledge_search
              - result
          desc: ""
          model:
            completion_params:
              temperature: 0.5
            mode: chat
            name: gpt-4o-mini
            provider: openai
          prompt_template:
            - id: assistant
              role: assistant
              text: "ä¸€èˆ¬çš„ãªå•ã„åˆã‚ã›ã«å¯¾ã™ã‚‹å›ç­”ã‚’ç”Ÿæˆã—ã¾ã™ã€‚\n\næ¤œç´¢çµæœ:\n{{#other_knowledge_search.result#}}\n\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•:\n{{#sys.query#}}\n\nä¸Šè¨˜ã®æ¤œç´¢çµæœã‚’åŸºã«ã€é©åˆ‡ãªå›ç­”ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚"
          selected: false
          title: "ä¸€èˆ¬å›ç­”ç”Ÿæˆ"
          type: llm
          variables: []
          vision:
            enabled: false
        height: 98
        id: other_answer_generator
        position:
          x: 1280
          y: 550
        positionAbsolute:
          x: 1280
          y: 550
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: "{{#tech_answer_generator.text#}}"
          desc: ""
          selected: false
          title: "æŠ€è¡“çš„ãªå›ç­”"
          type: answer
          variables: []
        height: 107
        id: tech_answer
        position:
          x: 1580
          y: 100
        positionAbsolute:
          x: 1580
          y: 100
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: "{{#operation_answer_generator.text#}}"
          desc: ""
          selected: false
          title: "æ“ä½œæ–¹æ³•ã®å›ç­”"
          type: answer
          variables: []
        height: 107
        id: operation_answer
        position:
          x: 1580
          y: 250
        positionAbsolute:
          x: 1580
          y: 250
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: "{{#trouble_answer_generator.text#}}"
          desc: ""
          selected: false
          title: "ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å›ç­”"
          type: answer
          variables: []
        height: 107
        id: trouble_answer
        position:
          x: 1580
          y: 400
        positionAbsolute:
          x: 1580
          y: 400
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: "{{#other_answer_generator.text#}}"
          desc: ""
          selected: false
          title: "ä¸€èˆ¬çš„ãªå›ç­”"
          type: answer
          variables: []
        height: 107
        id: other_answer
        position:
          x: 1580
          y: 550
        positionAbsolute:
          x: 1580
          y: 550
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
    viewport:
      x: 0
      y: 0
      zoom: 0.5