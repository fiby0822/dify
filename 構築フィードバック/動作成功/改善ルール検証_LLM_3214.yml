app:
  description: "æ›´æ–°ã•ã‚ŒãŸLLMã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ«ãƒ¼ãƒ«ã®æ¤œè¨¼ç”¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚memoryè¨­å®šã®æ–°ãƒ«ãƒ¼ãƒ«ï¼ˆçœç•¥æ¨å¥¨ã€å®Œå…¨æ§‹é€ å¿…é ˆï¼‰ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚"
  icon: "ğŸ”¬"
  icon_background: "#FFEAD5"
  mode: advanced-chat
  name: "æ”¹å–„ãƒ«ãƒ¼ãƒ«æ¤œè¨¼_LLM_3214"
  use_icon_as_answer_icon: false

dependencies: []

kind: app

version: 0.3.0

workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      enabled: false
    opening_statement: |
      LLMã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ”¹å–„ã•ã‚ŒãŸãƒ«ãƒ¼ãƒ«æ¤œè¨¼ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚
      
      ã“ã®ã‚¢ãƒ—ãƒªã§ã¯ä»¥ä¸‹ã‚’æ¤œè¨¼ã—ã¾ã™ï¼š
      ãƒ»memoryè¨­å®šã®çœç•¥ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆæ¨å¥¨ï¼‰
      ãƒ»memoryè¨­å®šã®å®Œå…¨æ§‹é€ ãƒ‘ã‚¿ãƒ¼ãƒ³
      ãƒ»ãã®ä»–ã®å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å‹•ä½œ
      
      ä½•ã‹è³ªå•ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
      - "AIã¨ã¯ä½•ã§ã™ã‹ï¼Ÿ"
      - "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’å­¦ã¶æ–¹æ³•ã‚’æ•™ãˆã¦ãã ã•ã„"
      - "å¥åº·çš„ãªç”Ÿæ´»ç¿’æ…£ã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„"
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
      - data:
          isInLoop: false
          sourceType: start
          targetType: llm
        id: start-analyzer-edge
        selected: false
        source: start_node
        sourceHandle: source
        target: question_analyzer_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: llm
        id: analyzer-generator-edge
        selected: false
        source: question_analyzer_node
        sourceHandle: source
        target: answer_generator_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: answer
        id: generator-answer-edge
        selected: false
        source: answer_generator_node
        sourceHandle: source
        target: answer_node
        targetHandle: target
        type: custom
        zIndex: 0
    nodes:
      - data:
          desc: "ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®é–‹å§‹ç‚¹"
          selected: false
          title: "é–‹å§‹"
          type: start
          variables: []
        height: 54
        id: start_node
        position:
          x: 50
          y: 200
        positionAbsolute:
          x: 50
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          model:
            provider: openai
            name: gpt-4o
            mode: chat
          prompt_template:
            - id: analyzer-system-1
              role: system
              text: |
                ã‚ãªãŸã¯è³ªå•åˆ†æã®å°‚é–€å®¶ã§ã™ã€‚
                ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®è³ªå•ã‚’åˆ†æã—ã€ä»¥ä¸‹ã®è¦³ç‚¹ã§æ•´ç†ã—ã¦ãã ã•ã„ï¼š
                1. è³ªå•ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼ï¼ˆæŠ€è¡“çš„ã€æ¦‚å¿µçš„ã€å®Ÿè·µçš„ãªã©ï¼‰
                2. å›ç­”ã«å¿…è¦ãªæƒ…å ±ã®ç¨®é¡
                3. é©åˆ‡ãªå›ç­”ã®æ§‹æˆ
                
                åˆ†æçµæœã‚’ç°¡æ½”ã«ã¾ã¨ã‚ã¦å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚
            - id: analyzer-user-1
              role: user
              text: |
                ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•ï¼š
                {{#sys.query#}}
          completion_params:
            temperature: 0.3
            max_tokens: 500
          structured_output_enabled: false
          vision:
            enabled: false
          variables: []
          context:
            enabled: false
            variable_selector: []
          desc: "è³ªå•ã‚’åˆ†æã™ã‚‹LLMãƒãƒ¼ãƒ‰ï¼ˆmemoryè¨­å®šã‚’çœç•¥ - æ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰"
          selected: false
          title: "è³ªå•åˆ†æï¼ˆmemoryçœç•¥ï¼‰"
          type: llm
        height: 98
        id: question_analyzer_node
        position:
          x: 350
          y: 200
        positionAbsolute:
          x: 350
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          model:
            provider: openai
            name: gpt-4o
            mode: chat
          prompt_template:
            - id: generator-system-1
              role: system
              text: |
                ã‚ãªãŸã¯çŸ¥è­˜è±Šå¯Œãªã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚
                å‰æ®µã®åˆ†æçµæœã‚’å‚è€ƒã«ã—ãªãŒã‚‰ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•ã«å¯¾ã—ã¦
                è©³ç´°ã§åˆ†ã‹ã‚Šã‚„ã™ã„å›ç­”ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚
                
                å›ç­”ã¯ä»¥ä¸‹ã®æ§‹æˆã§ä½œæˆã—ã¦ãã ã•ã„ï¼š
                1. è¦ç´„ï¼ˆ1-2æ–‡ï¼‰
                2. è©³ç´°èª¬æ˜
                3. å…·ä½“ä¾‹ï¼ˆè©²å½“ã™ã‚‹å ´åˆï¼‰
                4. ã¾ã¨ã‚
            - id: generator-user-1
              role: user
              text: |
                è³ªå•ã®åˆ†æçµæœï¼š
                {{#question_analyzer_node.text#}}
                
                å…ƒã®è³ªå•ï¼š
                {{#sys.query#}}
                
                ä¸Šè¨˜ã‚’è¸ã¾ãˆã¦ã€é©åˆ‡ãªå›ç­”ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚
          completion_params:
            temperature: 0.7
            max_tokens: 1500
            top_p: 0.9
          structured_output_enabled: false
          vision:
            enabled: false
          variables: []
          context:
            enabled: false
            variable_selector: []
          memory:
            enabled: true
            window:
              enabled: true
              size: 10
            role_prefix:
              assistant: 'ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ'
              user: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼'
            query_prompt_template: '{{#sys.query#}}'
          desc: "å›ç­”ã‚’ç”Ÿæˆã™ã‚‹LLMãƒãƒ¼ãƒ‰ï¼ˆmemoryè¨­å®šã‚’å®Œå…¨æ§‹é€ ã§è¨˜è¿°ï¼‰"
          selected: false
          title: "å›ç­”ç”Ÿæˆï¼ˆmemoryå®Œå…¨æ§‹é€ ï¼‰"
          type: llm
        height: 98
        id: answer_generator_node
        position:
          x: 650
          y: 200
        positionAbsolute:
          x: 650
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            {{#answer_generator_node.text#}}
            
            ---
            ğŸ“Š æŠ€è¡“æ¤œè¨¼æƒ…å ±ï¼š
            - è³ªå•åˆ†æãƒãƒ¼ãƒ‰ï¼šmemoryè¨­å®šã‚’çœç•¥ï¼ˆæ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
            - å›ç­”ç”Ÿæˆãƒãƒ¼ãƒ‰ï¼šmemoryè¨­å®šã‚’å®Œå…¨æ§‹é€ ã§è¨˜è¿°
            - ä¸¡ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã‚‚æ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
          desc: "æœ€çµ‚çš„ãªå›ç­”ã‚’è¡¨ç¤º"
          selected: false
          title: "å›ç­”"
          type: answer
          variables: []
        height: 374
        id: answer_node
        position:
          x: 950
          y: 200
        positionAbsolute:
          x: 950
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
    viewport:
      x: 0
      y: 0
      zoom: 0.8