app:
  description: "é¡§å®¢ã‹ã‚‰ã®å•ã„åˆã‚ã›å†…å®¹ã‚’è‡ªå‹•åˆ†é¡ã—ã€é©åˆ‡ãªå›ç­”ã‚’ç”Ÿæˆã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ "
  icon: "ğŸ“§"
  icon_background: "#E4F2FF"
  mode: advanced-chat
  name: "é¡§å®¢å•ã„åˆã‚ã›è‡ªå‹•åˆ†é¡ã‚·ã‚¹ãƒ†ãƒ "
  use_icon_as_answer_icon: false

dependencies: []

kind: app

version: 0.3.0

workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      enabled: false
    opening_statement: |
      ãŠå•ã„åˆã‚ã›å†…å®¹ã‚’ãŠèã‹ã›ãã ã•ã„ã€‚
      æŠ€è¡“çš„ãªå•é¡Œã€æ–™é‡‘ãƒ»è«‹æ±‚é–¢é€£ã€è£½å“æƒ…å ±ãªã©ã€ã©ã®ã‚ˆã†ãªå†…å®¹ã§ã‚‚å¯¾å¿œã„ãŸã—ã¾ã™ã€‚
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
      - "ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦å‹•ä½œã—ã¾ã›ã‚“"
      - "æ–™é‡‘ãƒ—ãƒ©ãƒ³ã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„"
      - "è£½å“ã®æ©Ÿèƒ½ã«ã¤ã„ã¦çŸ¥ã‚ŠãŸã„ã§ã™"
      - "ãã®ä»–ã®ãŠå•ã„åˆã‚ã›"
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
      - data:
          isInLoop: false
          sourceType: start
          targetType: if-else
        id: start-classifier-edge
        selected: false
        source: start_node
        sourceHandle: source
        target: inquiry_classifier_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: llm
        id: classifier-technical-edge
        selected: false
        source: inquiry_classifier_node
        sourceHandle: technical_case
        target: technical_support_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: llm
        id: classifier-billing-edge
        selected: false
        source: inquiry_classifier_node
        sourceHandle: billing_case
        target: billing_support_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: llm
        id: classifier-product-edge
        selected: false
        source: inquiry_classifier_node
        sourceHandle: product_case
        target: product_info_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: llm
        id: classifier-other-edge
        selected: false
        source: inquiry_classifier_node
        sourceHandle: "false"
        target: general_support_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: answer
        id: technical-answer-edge
        selected: false
        source: technical_support_node
        sourceHandle: source
        target: technical_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: answer
        id: billing-answer-edge
        selected: false
        source: billing_support_node
        sourceHandle: source
        target: billing_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: answer
        id: product-answer-edge
        selected: false
        source: product_info_node
        sourceHandle: source
        target: product_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: answer
        id: general-answer-edge
        selected: false
        source: general_support_node
        sourceHandle: source
        target: general_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
    nodes:
      - data:
          desc: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®å•ã„åˆã‚ã›ã‚’å—ã‘ä»˜ã‘ã‚‹"
          selected: false
          title: "é–‹å§‹"
          type: start
          variables: []
        height: 54
        id: start_node
        position:
          x: 50
          y: 300
        positionAbsolute:
          x: 50
          y: 300
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          type: if-else
          cases:
            - id: technical_case
              case_id: technical_case
              conditions:
                - variable_selector:
                    - sys
                    - query
                  comparison_operator: contains
                  value: "ã‚¨ãƒ©ãƒ¼"
                - variable_selector:
                    - sys
                    - query
                  comparison_operator: contains
                  value: "ä¸å…·åˆ"
                - variable_selector:
                    - sys
                    - query
                  comparison_operator: contains
                  value: "å‹•ä½œã—ãªã„"
              logical_operator: or
            - id: billing_case
              case_id: billing_case
              conditions:
                - variable_selector:
                    - sys
                    - query
                  comparison_operator: contains
                  value: "æ–™é‡‘"
                - variable_selector:
                    - sys
                    - query
                  comparison_operator: contains
                  value: "è«‹æ±‚"
                - variable_selector:
                    - sys
                    - query
                  comparison_operator: contains
                  value: "æ”¯æ‰•ã„"
              logical_operator: or
            - id: product_case
              case_id: product_case
              conditions:
                - variable_selector:
                    - sys
                    - query
                  comparison_operator: contains
                  value: "ä»•æ§˜"
                - variable_selector:
                    - sys
                    - query
                  comparison_operator: contains
                  value: "æ©Ÿèƒ½"
                - variable_selector:
                    - sys
                    - query
                  comparison_operator: contains
                  value: "æ€§èƒ½"
              logical_operator: or
          desc: "å•ã„åˆã‚ã›å†…å®¹ã‚’åˆ†é¡"
          selected: false
          title: "å•ã„åˆã‚ã›åˆ†é¡"
        height: 198
        id: inquiry_classifier_node
        position:
          x: 350
          y: 300
        positionAbsolute:
          x: 350
          y: 300
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          model:
            provider: openai
            name: gpt-4o
            mode: chat
          prompt_template:
            - id: system-prompt-technical
              role: system
              text: |
                ã‚ãªãŸã¯æŠ€è¡“ã‚µãƒãƒ¼ãƒˆã®å°‚é–€å®¶ã§ã™ã€‚
                ã‚¨ãƒ©ãƒ¼ã‚„ä¸å…·åˆã€å‹•ä½œã«é–¢ã™ã‚‹å•é¡Œã«ã¤ã„ã¦ã€è¦ªåˆ‡ä¸å¯§ã«å›ç­”ã—ã¦ãã ã•ã„ã€‚
                å…·ä½“çš„ãªè§£æ±ºæ‰‹é †ã‚’ç¤ºã—ã€å¿…è¦ã«å¿œã˜ã¦è¿½åŠ ã®æƒ…å ±ã‚’æ±‚ã‚ã¦ãã ã•ã„ã€‚
            - id: user-prompt-technical
              role: user
              text: |
                ãŠå®¢æ§˜ã‹ã‚‰ã®å•ã„åˆã‚ã›ï¼š
                {{#sys.query#}}
          completion_params:
            temperature: 0.7
            max_tokens: 500
          structured_output_enabled: false
          vision:
            enabled: false
          context:
            enabled: false
            variable_selector: []
          desc: "æŠ€è¡“çš„ãªå•é¡Œã¸ã®å›ç­”ç”Ÿæˆ"
          selected: false
          title: "æŠ€è¡“ã‚µãƒãƒ¼ãƒˆ"
          type: llm
        height: 98
        id: technical_support_node
        position:
          x: 650
          y: 100
        positionAbsolute:
          x: 650
          y: 100
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          model:
            provider: openai
            name: gpt-4o
            mode: chat
          prompt_template:
            - id: system-prompt-billing
              role: system
              text: |
                ã‚ãªãŸã¯æ–™é‡‘ãƒ»è«‹æ±‚ã«é–¢ã™ã‚‹å°‚é–€å®¶ã§ã™ã€‚
                æ–™é‡‘ãƒ—ãƒ©ãƒ³ã€è«‹æ±‚å†…å®¹ã€æ”¯æ‰•ã„æ–¹æ³•ã«ã¤ã„ã¦ã€åˆ†ã‹ã‚Šã‚„ã™ãèª¬æ˜ã—ã¦ãã ã•ã„ã€‚
                ãŠå®¢æ§˜ã®ç–‘å•ã‚’è§£æ¶ˆã—ã€å¿…è¦ã«å¿œã˜ã¦å…·ä½“çš„ãªæ‰‹ç¶šãæ–¹æ³•ã‚’ã”æ¡ˆå†…ã—ã¦ãã ã•ã„ã€‚
            - id: user-prompt-billing
              role: user
              text: |
                ãŠå®¢æ§˜ã‹ã‚‰ã®å•ã„åˆã‚ã›ï¼š
                {{#sys.query#}}
          completion_params:
            temperature: 0.7
            max_tokens: 500
          structured_output_enabled: false
          vision:
            enabled: false
          context:
            enabled: false
            variable_selector: []
          desc: "æ–™é‡‘ãƒ»è«‹æ±‚é–¢é€£ã¸ã®å›ç­”ç”Ÿæˆ"
          selected: false
          title: "æ–™é‡‘ã‚µãƒãƒ¼ãƒˆ"
          type: llm
        height: 98
        id: billing_support_node
        position:
          x: 650
          y: 250
        positionAbsolute:
          x: 650
          y: 250
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          model:
            provider: openai
            name: gpt-4o
            mode: chat
          prompt_template:
            - id: system-prompt-product
              role: system
              text: |
                ã‚ãªãŸã¯è£½å“æƒ…å ±ã®å°‚é–€å®¶ã§ã™ã€‚
                è£½å“ã®ä»•æ§˜ã€æ©Ÿèƒ½ã€æ€§èƒ½ã«ã¤ã„ã¦ã€è©³ç´°ã‹ã¤åˆ†ã‹ã‚Šã‚„ã™ãèª¬æ˜ã—ã¦ãã ã•ã„ã€‚
                ãŠå®¢æ§˜ã®ãƒ‹ãƒ¼ã‚ºã«åˆã£ãŸæƒ…å ±ã‚’æä¾›ã—ã€è£½å“ã®ç‰¹å¾´ã‚’ã‚¢ãƒ”ãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚
            - id: user-prompt-product
              role: user
              text: |
                ãŠå®¢æ§˜ã‹ã‚‰ã®å•ã„åˆã‚ã›ï¼š
                {{#sys.query#}}
          completion_params:
            temperature: 0.7
            max_tokens: 500
          structured_output_enabled: false
          vision:
            enabled: false
          context:
            enabled: false
            variable_selector: []
          desc: "è£½å“æƒ…å ±ã¸ã®å›ç­”ç”Ÿæˆ"
          selected: false
          title: "è£½å“æƒ…å ±æä¾›"
          type: llm
        height: 98
        id: product_info_node
        position:
          x: 650
          y: 400
        positionAbsolute:
          x: 650
          y: 400
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          model:
            provider: openai
            name: gpt-4o
            mode: chat
          prompt_template:
            - id: system-prompt-general
              role: system
              text: |
                ã‚ãªãŸã¯è¦ªåˆ‡ãªã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆæ‹…å½“è€…ã§ã™ã€‚
                ãŠå®¢æ§˜ã‹ã‚‰ã®æ§˜ã€…ãªå•ã„åˆã‚ã›ã«å¯¾ã—ã¦ã€ä¸å¯§ã§åˆ†ã‹ã‚Šã‚„ã™ã„å›ç­”ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚
                å•ã„åˆã‚ã›å†…å®¹ã‚’ç†è§£ã—ã€é©åˆ‡ãªéƒ¨é–€ã¸ã®æ¡ˆå†…ã‚‚å«ã‚ã¦å¯¾å¿œã—ã¦ãã ã•ã„ã€‚
            - id: user-prompt-general
              role: user
              text: |
                ãŠå®¢æ§˜ã‹ã‚‰ã®å•ã„åˆã‚ã›ï¼š
                {{#sys.query#}}
          completion_params:
            temperature: 0.7
            max_tokens: 500
          structured_output_enabled: false
          vision:
            enabled: false
          context:
            enabled: false
            variable_selector: []
          desc: "ãã®ä»–ã®å•ã„åˆã‚ã›ã¸ã®å›ç­”ç”Ÿæˆ"
          selected: false
          title: "ä¸€èˆ¬ã‚µãƒãƒ¼ãƒˆ"
          type: llm
        height: 98
        id: general_support_node
        position:
          x: 650
          y: 550
        positionAbsolute:
          x: 650
          y: 550
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: "{{#technical_support_node.text#}}"
          desc: "æŠ€è¡“ã‚µãƒãƒ¼ãƒˆã®å›ç­”"
          selected: false
          title: "æŠ€è¡“çš„å•é¡Œã®å›ç­”"
          type: answer
          variables: []
        height: 107
        id: technical_answer_node
        position:
          x: 950
          y: 100
        positionAbsolute:
          x: 950
          y: 100
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: "{{#billing_support_node.text#}}"
          desc: "æ–™é‡‘ã‚µãƒãƒ¼ãƒˆã®å›ç­”"
          selected: false
          title: "æ–™é‡‘é–¢é€£ã®å›ç­”"
          type: answer
          variables: []
        height: 107
        id: billing_answer_node
        position:
          x: 950
          y: 250
        positionAbsolute:
          x: 950
          y: 250
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: "{{#product_info_node.text#}}"
          desc: "è£½å“æƒ…å ±ã®å›ç­”"
          selected: false
          title: "è£½å“æƒ…å ±ã®å›ç­”"
          type: answer
          variables: []
        height: 107
        id: product_answer_node
        position:
          x: 950
          y: 400
        positionAbsolute:
          x: 950
          y: 400
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: "{{#general_support_node.text#}}"
          desc: "ä¸€èˆ¬ã‚µãƒãƒ¼ãƒˆã®å›ç­”"
          selected: false
          title: "ãã®ä»–ã®å›ç­”"
          type: answer
          variables: []
        height: 107
        id: general_answer_node
        position:
          x: 950
          y: 550
        positionAbsolute:
          x: 950
          y: 550
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
    viewport:
      x: 0
      y: 0
      zoom: 0.8