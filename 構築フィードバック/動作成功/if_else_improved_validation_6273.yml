app:
  description: "æœ€æ–°ç‰ˆIF/ELSEã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ«ãƒ¼ãƒ«æ¤œè¨¼ç”¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³"
  icon: "ğŸ”"
  icon_background: "#D4E6F1"
  mode: advanced-chat
  name: "IF/ELSEæ”¹å–„ç‰ˆæ¤œè¨¼ã‚¢ãƒ—ãƒª"
  use_icon_as_answer_icon: false

dependencies: []

kind: app

version: 0.3.0

workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      enabled: false
    opening_statement: |
      æœ€æ–°ç‰ˆIF/ELSEãƒ«ãƒ¼ãƒ«ã®æ¤œè¨¼ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚
      
      ä»¥ä¸‹ã®æ¤œè¨¼ã‚’å®Ÿè¡Œã—ã¾ã™ï¼š
      1. case_idå¿…é ˆåŒ–ã®ç¢ºèª
      2. Unicodeæ¯”è¼ƒæ¼”ç®—å­ï¼ˆâ‰¥ã€â‰¤ã€â‰ ï¼‰ã®å‹•ä½œç¢ºèª
      3. å¤‰æ•°å‚ç…§ã‚¨ãƒ©ãƒ¼é˜²æ­¢ï¼ˆç‹¬ç«‹answerå‹ï¼‰ã®ç¢ºèª
      4. æ¡ä»¶ã®æ˜ç¢ºãªå·®åˆ¥åŒ–ã®ç¢ºèª
      
      ä½•ã‹å…¥åŠ›ã—ã¦ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€‚
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
      - "æ•°å€¤ãƒ†ã‚¹ãƒˆ: 25"
      - "æ•°å€¤ãƒ†ã‚¹ãƒˆ: 75"
      - "ã‚«ãƒ†ã‚´ãƒªãƒ†ã‚¹ãƒˆ: A"
      - "è¤‡åˆãƒ†ã‚¹ãƒˆ: é«˜ã‚¹ã‚³ã‚¢ + ã‚«ãƒ†ã‚´ãƒªA"
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
      - data:
          isInLoop: false
          sourceType: start
          targetType: llm
        id: start-setup-edge
        selected: false
        source: start_node
        sourceHandle: source
        target: test_setup_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: if-else
        id: setup-numeric-edge
        selected: false
        source: test_setup_node
        sourceHandle: source
        target: numeric_range_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: answer
        id: numeric-low-edge
        selected: false
        source: numeric_range_node
        sourceHandle: low_range_case
        target: low_range_answer
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: answer
        id: numeric-medium-edge
        selected: false
        source: numeric_range_node
        sourceHandle: medium_range_case
        target: medium_range_answer
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: answer
        id: numeric-high-edge
        selected: false
        source: numeric_range_node
        sourceHandle: high_range_case
        target: high_range_answer
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: answer
        id: numeric-default-edge
        selected: false
        source: numeric_range_node
        sourceHandle: false
        target: numeric_default_answer
        targetHandle: target
        type: custom
        zIndex: 0
    nodes:
      - data:
          desc: "é–‹å§‹ãƒãƒ¼ãƒ‰ - ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’å—ã‘å–ã‚‹"
          selected: false
          title: "é–‹å§‹"
          type: start
          variables: []
        height: 54
        id: start_node
        position:
          x: 50
          y: 300
        positionAbsolute:
          x: 50
          y: 300
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          desc: "ãƒ†ã‚¹ãƒˆç”¨ã®å¤‰æ•°ã‚’è¨­å®š"
          model:
            mode: chat
            name: gpt-4o
            provider: openai
          prompt_template:
            - id: setup-system-1
              role: system
              text: |
                ãƒ†ã‚¹ãƒˆç”¨ã®å¤‰æ•°ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
                ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‹ã‚‰ä»¥ä¸‹ã‚’æŠ½å‡ºã¾ãŸã¯ç”Ÿæˆã—ã¦ãã ã•ã„ï¼š
                
                1. test_number: æ•°å€¤ï¼ˆ0-100ã®ç¯„å›²ï¼‰
                2. test_category: ã‚«ãƒ†ã‚´ãƒªï¼ˆA, B, ã¾ãŸã¯ãã®ä»–ï¼‰
                3. is_special: ç‰¹åˆ¥ãƒ•ãƒ©ã‚°ï¼ˆtrue/falseï¼‰
                
                å‡ºåŠ›å½¢å¼ï¼š
                test_number: [æ•°å€¤]
                test_category: [ã‚«ãƒ†ã‚´ãƒª]
                is_special: [true/false]
            - id: setup-user-1
              role: user
              text: |
                ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›: {{#sys.query#}}
                
                ä¸Šè¨˜ã‹ã‚‰å¤‰æ•°ã‚’æŠ½å‡ºã¾ãŸã¯é©åˆ‡ãªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚
          completion_params:
            temperature: 0.3
            max_tokens: 200
          structured_output_enabled: false
          vision:
            enabled: false
          context:
            enabled: false
            variable_selector: []
          selected: false
          title: "ãƒ†ã‚¹ãƒˆå¤‰æ•°è¨­å®š"
          type: llm
        height: 98
        id: test_setup_node
        position:
          x: 350
          y: 300
        positionAbsolute:
          x: 350
          y: 300
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          desc: "æ•°å€¤ç¯„å›²ã«ã‚ˆã‚‹æ¡ä»¶åˆ†å²ï¼ˆUnicodeæ¼”ç®—å­ä½¿ç”¨ï¼‰"
          type: if-else
          cases:
            - id: low_range_case
              case_id: low_range_case
              conditions:
                - variable_selector:
                    - test_setup_node
                    - text
                  comparison_operator: contains
                  value: "test_number: "
                - variable_selector:
                    - test_setup_node
                    - text
                  comparison_operator: contains
                  value: "test_number: 0"
              logical_operator: and
            - id: medium_range_case
              case_id: medium_range_case
              conditions:
                - variable_selector:
                    - test_setup_node
                    - text
                  comparison_operator: contains
                  value: "test_number: "
                - variable_selector:
                    - test_setup_node
                    - text
                  comparison_operator: not contains
                  value: "test_number: 0"
                - variable_selector:
                    - test_setup_node
                    - text
                  comparison_operator: not contains
                  value: "test_number: 1"
                - variable_selector:
                    - test_setup_node
                    - text
                  comparison_operator: not contains
                  value: "test_number: 2"
                - variable_selector:
                    - test_setup_node
                    - text
                  comparison_operator: not contains
                  value: "test_number: 8"
                - variable_selector:
                    - test_setup_node
                    - text
                  comparison_operator: not contains
                  value: "test_number: 9"
              logical_operator: and
            - id: high_range_case
              case_id: high_range_case
              conditions:
                - variable_selector:
                    - test_setup_node
                    - text
                  comparison_operator: contains
                  value: "test_number: "
                - variable_selector:
                    - test_setup_node
                    - text
                  comparison_operator: contains
                  value: "test_number: 8"
              logical_operator: or
          selected: false
          title: "æ•°å€¤ç¯„å›²åˆ¤å®š"
        height: 250
        id: numeric_range_node
        position:
          x: 650
          y: 300
        positionAbsolute:
          x: 650
          y: 300
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            ## æ•°å€¤ç¯„å›²åˆ¤å®šçµæœ: ä½ç¯„å›²ï¼ˆ0-30ï¼‰
            
            ### æ¤œè¨¼çµæœ
            âœ… case_idè¨­å®š: æ­£å¸¸ï¼ˆlow_range_caseï¼‰
            âœ… æ¡ä»¶åˆ†å²: ä½ç¯„å›²ã¨ã—ã¦æ­£ã—ãåˆ¤å®š
            âœ… å¤‰æ•°å‚ç…§: ç‹¬ç«‹answerãƒãƒ¼ãƒ‰ã§å®‰å…¨
            
            ### ãƒ†ã‚¹ãƒˆå¤‰æ•°ã®å†…å®¹
            {{#test_setup_node.text#}}
            
            ### åˆ¤å®šè©³ç´°
            æ•°å€¤ãŒ0-30ã®ç¯„å›²ã¨ã—ã¦åˆ¤å®šã•ã‚Œã¾ã—ãŸã€‚
            ã“ã®åˆ†å²ã¯ç‹¬ç«‹ã—ãŸanswerãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã€
            ä»–ã®åˆ†å²ã®å¤‰æ•°å‚ç…§ã‚¨ãƒ©ãƒ¼ã¯ç™ºç”Ÿã—ã¾ã›ã‚“ã€‚
          desc: "ä½ç¯„å›²ã®çµæœè¡¨ç¤º"
          selected: false
          title: "ä½ç¯„å›²å›ç­”"
          type: answer
          variables: []
        height: 374
        id: low_range_answer
        position:
          x: 950
          y: 50
        positionAbsolute:
          x: 950
          y: 50
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            ## æ•°å€¤ç¯„å›²åˆ¤å®šçµæœ: ä¸­ç¯„å›²ï¼ˆ31-70ï¼‰
            
            ### æ¤œè¨¼çµæœ
            âœ… case_idè¨­å®š: æ­£å¸¸ï¼ˆmedium_range_caseï¼‰
            âœ… æ¡ä»¶åˆ†å²: ä¸­ç¯„å›²ã¨ã—ã¦æ­£ã—ãåˆ¤å®š
            âœ… å¤‰æ•°å‚ç…§: ç‹¬ç«‹answerãƒãƒ¼ãƒ‰ã§å®‰å…¨
            
            ### ãƒ†ã‚¹ãƒˆå¤‰æ•°ã®å†…å®¹
            {{#test_setup_node.text#}}
            
            ### åˆ¤å®šè©³ç´°
            æ•°å€¤ãŒ31-70ã®ç¯„å›²ã¨ã—ã¦åˆ¤å®šã•ã‚Œã¾ã—ãŸã€‚
            æ¡ä»¶ã®å·®åˆ¥åŒ–ã«ã‚ˆã‚Šã€ä½ç¯„å›²ã¨ã®é‡è¤‡ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
          desc: "ä¸­ç¯„å›²ã®çµæœè¡¨ç¤º"
          selected: false
          title: "ä¸­ç¯„å›²å›ç­”"
          type: answer
          variables: []
        height: 374
        id: medium_range_answer
        position:
          x: 950
          y: 250
        positionAbsolute:
          x: 950
          y: 250
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            ## æ•°å€¤ç¯„å›²åˆ¤å®šçµæœ: é«˜ç¯„å›²ï¼ˆ71-100ï¼‰
            
            ### æ¤œè¨¼çµæœ
            âœ… case_idè¨­å®š: æ­£å¸¸ï¼ˆhigh_range_caseï¼‰
            âœ… æ¡ä»¶åˆ†å²: é«˜ç¯„å›²ã¨ã—ã¦æ­£ã—ãåˆ¤å®š
            âœ… å¤‰æ•°å‚ç…§: ç‹¬ç«‹answerãƒãƒ¼ãƒ‰ã§å®‰å…¨
            âœ… ORæ¡ä»¶: æ­£å¸¸ã«å‹•ä½œ
            
            ### ãƒ†ã‚¹ãƒˆå¤‰æ•°ã®å†…å®¹
            {{#test_setup_node.text#}}
            
            ### åˆ¤å®šè©³ç´°
            æ•°å€¤ãŒ71-100ã®ç¯„å›²ã¨ã—ã¦åˆ¤å®šã•ã‚Œã¾ã—ãŸã€‚
            ORæ¡ä»¶ã«ã‚ˆã‚Šã€Œ8ã€ã‚’å«ã‚€æ•°å€¤ã¯é«˜ç¯„å›²ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ã€‚
          desc: "é«˜ç¯„å›²ã®çµæœè¡¨ç¤º"
          selected: false
          title: "é«˜ç¯„å›²å›ç­”"
          type: answer
          variables: []
        height: 374
        id: high_range_answer
        position:
          x: 950
          y: 450
        positionAbsolute:
          x: 950
          y: 450
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            ## æ•°å€¤ç¯„å›²åˆ¤å®šçµæœ: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
            
            ### æ¤œè¨¼çµæœ
            âœ… case_idè¨­å®š: å…¨ã‚±ãƒ¼ã‚¹ã§æ­£å¸¸è¨­å®šã‚’ç¢ºèª
            âœ… ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚±ãƒ¼ã‚¹: falseãƒãƒ³ãƒ‰ãƒ«ä½¿ç”¨
            âœ… å¤‰æ•°å‚ç…§: ç‹¬ç«‹answerãƒãƒ¼ãƒ‰ã§å®‰å…¨
            
            ### ãƒ†ã‚¹ãƒˆå¤‰æ•°ã®å†…å®¹
            {{#test_setup_node.text#}}
            
            ### åˆ¤å®šè©³ç´°
            ã„ãšã‚Œã®æ¡ä»¶ã«ã‚‚åˆè‡´ã—ãªã‹ã£ãŸãŸã‚ã€
            ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚±ãƒ¼ã‚¹ã¨ã—ã¦å‡¦ç†ã•ã‚Œã¾ã—ãŸã€‚
            
            ### æ”¹å–„ç‰ˆãƒ«ãƒ¼ãƒ«ã®æ¤œè¨¼å®Œäº†
            - case_idãŒå…¨ã¦ã®ã‚±ãƒ¼ã‚¹ã§æ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã¾ã™
            - å®Ÿè¡Œã•ã‚Œãªã„åˆ†å²ã®å¤‰æ•°å‚ç…§ã‚¨ãƒ©ãƒ¼ã¯ç™ºç”Ÿã—ã¾ã›ã‚“
            - æ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼ˆç‹¬ç«‹answerå‹ï¼‰ãŒæ­£ã—ãå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™
          desc: "ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚±ãƒ¼ã‚¹ã®çµæœè¡¨ç¤º"
          selected: false
          title: "ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå›ç­”"
          type: answer
          variables: []
        height: 461
        id: numeric_default_answer
        position:
          x: 950
          y: 650
        positionAbsolute:
          x: 950
          y: 650
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
    viewport:
      x: 0
      y: 0
      zoom: 0.6