app:
  description: å±¥æ­´æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•è§£æã—ã€æ¡ä»¶åˆ†å²ã«ã‚ˆã‚Šè©³ç´°è©•ä¾¡ã‚’è¡Œã†é«˜åº¦ãªAIã‚·ã‚¹ãƒ†ãƒ 
  icon: ğŸ”
  icon_background: '#7C3AED'
  mode: advanced-chat
  name: é«˜åº¦ãªå±¥æ­´æ›¸åˆ†æAI
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/openai:0.0.26@c1e643ac6a7732f6333a783320b4d3026fa5e31d8e7026375b98d44418d33f26
kind: app
version: 0.3.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .PDF
      - .DOC
      - .DOCX
      - .TXT
      allowed_file_types:
      - document
      allowed_file_upload_methods:
      - local_file
      enabled: true
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: 'ã“ã‚“ã«ã¡ã¯ï¼é«˜åº¦ãªå±¥æ­´æ›¸åˆ†æAIã§ã™ã€‚


      ğŸ“„ å±¥æ­´æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„

      ğŸ¯ æ±‚äººãƒã‚¸ã‚·ãƒ§ãƒ³åã‚’ãŠæ•™ãˆãã ã•ã„


      ä»¥ä¸‹ã®é«˜åº¦ãªåˆ†æã‚’å®Ÿè¡Œã—ã¾ã™ï¼š

      âœ… ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã®è‡ªå‹•åˆ¤å®š

      ğŸ“Š å†…å®¹ã®è©³ç´°æŠ½å‡ºãƒ»æ§‹é€ åŒ–

      ğŸ”„ æ¡ä»¶åˆ†å²ã«ã‚ˆã‚‹è©•ä¾¡ãƒ«ãƒ¼ãƒˆé¸æŠ

      ğŸ“ˆ å¤šæ®µéšè©•ä¾¡ãƒ»ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°

      ğŸ“‹ ç·åˆãƒ¬ãƒãƒ¼ãƒˆã®ç”Ÿæˆ

      '
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
    - ITã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢è·ã®å±¥æ­´æ›¸ã‚’ç·åˆè©•ä¾¡ã—ã¦ãã ã•ã„
    - å–¶æ¥­ç®¡ç†è·å€™è£œã®è©³ç´°åˆ†æã‚’ãŠé¡˜ã„ã—ã¾ã™
    - ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°è·ã®é©åˆåº¦ã‚’è©³ã—ãæ•™ãˆã¦ãã ã•ã„
    suggested_questions_after_answer:
      enabled: true
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInLoop: false
        sourceType: start
        targetType: if-else
      id: start-filecheck-edge
      selected: false
      source: start_node
      sourceHandle: source
      target: file_check_node
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: filecheck-nofile-edge
      selected: false
      source: file_check_node
      sourceHandle: 'true'
      target: no_file_answer
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: document-extractor
      id: filecheck-extract-edge
      selected: false
      source: file_check_node
      sourceHandle: 'false'
      target: document_extract_node
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: document-extractor
        targetType: parameter-extractor
      id: extract-param-edge
      selected: false
      source: document_extract_node
      sourceHandle: source
      target: param_extract_node
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: parameter-extractor
        targetType: if-else
      id: param-category-edge
      selected: false
      source: param_extract_node
      sourceHandle: source
      target: category_check_node
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: category-it-edge
      selected: false
      source: category_check_node
      sourceHandle: it_engineer
      target: it_analysis_node
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: category-sales-edge
      selected: false
      source: category_check_node
      sourceHandle: sales
      target: sales_analysis_node
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: category-general-edge
      selected: false
      source: category_check_node
      sourceHandle: 'false'
      target: general_analysis_node
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: it-scoring-edge
      selected: false
      source: it_analysis_node
      sourceHandle: source
      target: scoring_node
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: sales-scoring-edge
      selected: false
      source: sales_analysis_node
      sourceHandle: source
      target: scoring_node
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: general-scoring-edge
      selected: false
      source: general_analysis_node
      sourceHandle: source
      target: scoring_node
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: llm
      id: scoring-final-edge
      selected: false
      source: scoring_node
      sourceHandle: source
      target: final_report_node
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: final-answer-edge
      selected: false
      source: final_report_node
      sourceHandle: source
      target: final_answer_node
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: 'å±¥æ­´æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã¨è©•ä¾¡ã—ãŸã„è·ç¨®ã‚’ãŠæ•™ãˆãã ã•ã„ã€‚

          é«˜åº¦ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§è©³ç´°åˆ†æã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

          '
        selected: false
        title: é–‹å§‹
        type: start
        variables:
        - allowed_file_extensions:
          - .PDF
          - .DOC
          - .DOCX
          - .TXT
          allowed_file_types:
          - document
          allowed_file_upload_methods:
          - local_file
          label: å±¥æ­´æ›¸ãƒ•ã‚¡ã‚¤ãƒ«
          max_length: 5
          options: []
          required: true
          type: file
          variable: resume_file
        - label: è©•ä¾¡å¯¾è±¡è·ç¨®
          max_length: 100
          options: []
          required: true
          type: text-input
          variable: target_position
      height: 192
      id: start_node
      position:
        x: 50
        y: 100
      positionAbsolute:
        x: 50
        y: 100
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: not exists
            id: file_check_condition
            value: ''
            varType: file
            variable_selector:
            - start_node
            - resume_file
          id: 'true'
          logical_operator: and
        desc: ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®ç¢ºèª
        selected: false
        title: ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ãƒã‚§ãƒƒã‚¯
        type: if-else
      height: 154
      id: file_check_node
      position:
        x: 350
        y: 100
      positionAbsolute:
        x: 350
        y: 100
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: "âŒ å±¥æ­´æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚\n\n\U0001F4C4 ä»¥ä¸‹ã®å½¢å¼ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ï¼š\n\
          â€¢ PDF (.pdf)\nâ€¢ Wordæ–‡æ›¸ (.doc, .docx)  \nâ€¢ ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ« (.txt)\n\nãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¾Œã€å†åº¦å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚\n"
        desc: ''
        selected: false
        title: ãƒ•ã‚¡ã‚¤ãƒ«æœªã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
        type: answer
        variables: []
      height: 198
      id: no_file_answer
      position:
        x: 650
        y: 50
      positionAbsolute:
        x: 650
        y: 50
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: å±¥æ­´æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ½å‡º
        is_array_file: false
        selected: false
        title: æ–‡æ›¸ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º
        type: document-extractor
        variable_selector:
        - start_node
        - resume_file
      height: 120
      id: document_extract_node
      position:
        x: 650
        y: 200
      positionAbsolute:
        x: 650
        y: 200
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: å±¥æ­´æ›¸ã‹ã‚‰æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º
        instruction: 'å±¥æ­´æ›¸ã®å†…å®¹ã‚’åˆ†æã—ã€ä»¥ä¸‹ã®æƒ…å ±ã‚’æŠ½å‡ºã—ã¦ãã ã•ã„ã€‚


          1. åŸºæœ¬æƒ…å ±ã®æŠ½å‡º

          2. è·æ­´ãƒ»çµŒé¨“ã®æ§‹é€ åŒ–

          3. ã‚¹ã‚­ãƒ«ãƒ»è³‡æ ¼ã®ç‰¹å®š

          4. å­¦æ­´ã®ç¢ºèª


          æƒ…å ±ãŒä¸æ˜ãªå ´åˆã¯ã€Œä¸æ˜ã€ã¨å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚

          '
        model:
          completion_params:
            temperature: 0.1
          mode: chat
          name: gpt-4
          provider: langgenius/openai/openai
        parameters:
        - description: æ°å
          name: candidate_name
          required: false
          type: string
        - description: å¹´é½¢ï¼ˆæ•°å€¤ã®ã¿ï¼‰
          name: age
          required: false
          type: number
        - description: ç·è·æ­´å¹´æ•°ï¼ˆæ•°å€¤ã®ã¿ï¼‰
          name: total_experience_years
          required: false
          type: number
        - description: æœ€çµ‚å­¦æ­´
          name: education
          required: false
          type: string
        - description: ä¸»è¦ã‚¹ã‚­ãƒ«ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰
          name: main_skills
          required: false
          type: string
        - description: ä¿æœ‰è³‡æ ¼ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰
          name: certifications
          required: false
          type: string
        - description: å¸Œæœ›è·ç¨®ã‚«ãƒ†ã‚´ãƒªï¼ˆIT/å–¶æ¥­/ãã®ä»–ï¼‰
          name: job_category
          required: false
          type: string
        query:
        - document_extract_node
        - text
        reasoning_mode: prompt
        selected: false
        title: å±¥æ­´æ›¸æƒ…å ±æŠ½å‡º
        type: parameter-extractor
        variables: []
        vision:
          enabled: false
      height: 118
      id: param_extract_node
      position:
        x: 950
        y: 200
      positionAbsolute:
        x: 950
        y: 200
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: it_engineer
          conditions:
          - comparison_operator: contains
            id: it_condition
            value: IT
            varType: string
            variable_selector:
            - param_extract_node
            - job_category
          id: it_engineer
          logical_operator: and
        - case_id: sales
          conditions:
          - comparison_operator: contains
            id: sales_condition
            value: å–¶æ¥­
            varType: string
            variable_selector:
            - param_extract_node
            - job_category
          id: sales
          logical_operator: and
        desc: è·ç¨®ã‚«ãƒ†ã‚´ãƒªã«ã‚ˆã‚‹åˆ†æãƒ«ãƒ¼ãƒˆåˆ†å²
        selected: false
        title: è·ç¨®ã‚«ãƒ†ã‚´ãƒªåˆ¤å®š
        type: if-else
      height: 202
      id: category_check_node
      position:
        x: 1250
        y: 150
      positionAbsolute:
        x: 1250
        y: 150
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ITã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ç‰¹åŒ–åˆ†æ
        model:
          completion_params:
            temperature: 0.3
          mode: chat
          name: gpt-4
          provider: langgenius/openai/openai
        prompt_template:
        - id: system-prompt
          role: system
          text: 'ã‚ãªãŸã¯ITã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢æ¡ç”¨ã®å°‚é–€å®¶ã§ã™ã€‚

            å±¥æ­´æ›¸æƒ…å ±ã‚’åŸºã«ã€ITã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã—ã¦ã®é©æ€§ã‚’è©³ç´°è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚


            è©•ä¾¡é …ç›®ï¼š

            1. æŠ€è¡“ã‚¹ã‚­ãƒ«ã®æ·±ã•ãƒ»å¹…

            2. é–‹ç™ºçµŒé¨“ã®è±Šå¯Œã•

            3. æœ€æ–°æŠ€è¡“ã¸ã®å¯¾å¿œåŠ›

            4. ãƒãƒ¼ãƒ é–‹ç™ºçµŒé¨“

            5. å•é¡Œè§£æ±ºèƒ½åŠ›


            å„é …ç›®ã‚’10ç‚¹æº€ç‚¹ã§è©•ä¾¡ã—ã€å…·ä½“çš„ãªæ ¹æ‹ ã‚‚ç¤ºã—ã¦ãã ã•ã„ã€‚

            '
        - id: user-prompt
          role: user
          text: 'å¯¾è±¡è·ç¨®: {{#start_node.target_position#}}

            å€™è£œè€…å: {{#param_extract_node.candidate_name#}}

            å¹´é½¢: {{#param_extract_node.age#}}æ­³

            ç·è·æ­´: {{#param_extract_node.total_experience_years#}}å¹´

            å­¦æ­´: {{#param_extract_node.education#}}

            ã‚¹ã‚­ãƒ«: {{#param_extract_node.main_skills#}}

            è³‡æ ¼: {{#param_extract_node.certifications#}}


            å±¥æ­´æ›¸å…¨æ–‡:

            {{#document_extract_node.text#}}

            '
        selected: false
        structured_output_enabled: false
        title: ITã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢åˆ†æ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 118
      id: it_analysis_node
      position:
        x: 1550
        y: 50
      positionAbsolute:
        x: 1550
        y: 50
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: å–¶æ¥­è·ç‰¹åŒ–åˆ†æ
        model:
          completion_params:
            temperature: 0.3
          mode: chat
          name: gpt-4
          provider: langgenius/openai/openai
        prompt_template:
        - id: system-prompt
          role: system
          text: 'ã‚ãªãŸã¯å–¶æ¥­è·æ¡ç”¨ã®å°‚é–€å®¶ã§ã™ã€‚

            å±¥æ­´æ›¸æƒ…å ±ã‚’åŸºã«ã€å–¶æ¥­è·ã¨ã—ã¦ã®é©æ€§ã‚’è©³ç´°è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚


            è©•ä¾¡é …ç›®ï¼š

            1. å–¶æ¥­å®Ÿç¸¾ãƒ»æ•°å­—é”æˆåŠ›

            2. é¡§å®¢é–‹æ‹“ãƒ»é–¢ä¿‚æ§‹ç¯‰åŠ›

            3. å•†å“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ç†è§£åŠ›

            4. ãƒãƒ¼ãƒ é€£æºãƒ»å”èª¿æ€§

            5. ç›®æ¨™é”æˆã¸ã®åŸ·ç€å¿ƒ


            å„é …ç›®ã‚’10ç‚¹æº€ç‚¹ã§è©•ä¾¡ã—ã€å…·ä½“çš„ãªæ ¹æ‹ ã‚‚ç¤ºã—ã¦ãã ã•ã„ã€‚

            '
        - id: user-prompt
          role: user
          text: 'å¯¾è±¡è·ç¨®: {{#start_node.target_position#}}

            å€™è£œè€…å: {{#param_extract_node.candidate_name#}}

            å¹´é½¢: {{#param_extract_node.age#}}æ­³

            ç·è·æ­´: {{#param_extract_node.total_experience_years#}}å¹´

            å­¦æ­´: {{#param_extract_node.education#}}

            ã‚¹ã‚­ãƒ«: {{#param_extract_node.main_skills#}}

            è³‡æ ¼: {{#param_extract_node.certifications#}}


            å±¥æ­´æ›¸å…¨æ–‡:

            {{#document_extract_node.text#}}

            '
        selected: false
        structured_output_enabled: false
        title: å–¶æ¥­è·åˆ†æ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 118
      id: sales_analysis_node
      position:
        x: 1550
        y: 200
      positionAbsolute:
        x: 1550
        y: 200
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: æ±ç”¨è·ç¨®åˆ†æ
        model:
          completion_params:
            temperature: 0.3
          mode: chat
          name: gpt-4
          provider: langgenius/openai/openai
        prompt_template:
        - id: system-prompt
          role: system
          text: 'ã‚ãªãŸã¯äººæè©•ä¾¡ã®å°‚é–€å®¶ã§ã™ã€‚

            å±¥æ­´æ›¸æƒ…å ±ã‚’åŸºã«ã€æ±ç”¨çš„ãªè·æ¥­é©æ€§ã‚’è©³ç´°è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚


            è©•ä¾¡é …ç›®ï¼š

            1. å°‚é–€ã‚¹ã‚­ãƒ«ãƒ»çŸ¥è­˜

            2. è·æ­´ã®ä¸€è²«æ€§ãƒ»æˆé•·æ€§

            3. å­¦ç¿’èƒ½åŠ›ãƒ»é©å¿œåŠ›

            4. ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›

            5. è²¬ä»»æ„Ÿãƒ»ä¿¡é ¼æ€§


            å„é …ç›®ã‚’10ç‚¹æº€ç‚¹ã§è©•ä¾¡ã—ã€å…·ä½“çš„ãªæ ¹æ‹ ã‚‚ç¤ºã—ã¦ãã ã•ã„ã€‚

            '
        - id: user-prompt
          role: user
          text: 'å¯¾è±¡è·ç¨®: {{#start_node.target_position#}}

            å€™è£œè€…å: {{#param_extract_node.candidate_name#}}

            å¹´é½¢: {{#param_extract_node.age#}}æ­³

            ç·è·æ­´: {{#param_extract_node.total_experience_years#}}å¹´

            å­¦æ­´: {{#param_extract_node.education#}}

            ã‚¹ã‚­ãƒ«: {{#param_extract_node.main_skills#}}

            è³‡æ ¼: {{#param_extract_node.certifications#}}


            å±¥æ­´æ›¸å…¨æ–‡:

            {{#document_extract_node.text#}}

            '
        selected: false
        structured_output_enabled: false
        title: æ±ç”¨è·ç¨®åˆ†æ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 118
      id: general_analysis_node
      position:
        x: 1550
        y: 350
      positionAbsolute:
        x: 1550
        y: 350
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(analysis_text: str) -> dict:\n    \"\"\"\n    åˆ†æçµæœã‹ã‚‰ã‚¹ã‚³ã‚¢ã‚’æŠ½å‡ºã—ã€ç·åˆè©•ä¾¡ã‚’ç®—å‡º\n\
          \    \"\"\"\n    import re\n    \n    # å„é …ç›®ã®ã‚¹ã‚³ã‚¢ã‚’æŠ½å‡ºï¼ˆæ­£è¦è¡¨ç¾ã§ã€ŒXç‚¹ã€ã‚„ã€ŒX/10ç‚¹ã€ã‚’æ¤œç´¢ï¼‰\n\
          \    scores = []\n    score_patterns = [\n        r'(\\d+)ç‚¹',\n        r'(\\\
          d+)/10ç‚¹',\n        r'(\\d+)\\/10',\n        r'è©•ä¾¡[ï¼š:]\\s*(\\d+)',\n     \
          \   r'ã‚¹ã‚³ã‚¢[ï¼š:]\\s*(\\d+)'\n    ]\n    \n    for pattern in score_patterns:\n\
          \        matches = re.findall(pattern, analysis_text)\n        if matches:\n\
          \            scores.extend([int(score) for score in matches if int(score)\
          \ <= 10])\n    \n    # ã‚¹ã‚³ã‚¢ãŒå–å¾—ã§ããŸå ´åˆã®å‡¦ç†\n    if scores:\n        avg_score\
          \ = sum(scores) / len(scores)\n        total_score = min(sum(scores), 50)\
          \  # æœ€å¤§50ç‚¹\n    else:\n        # ã‚¹ã‚³ã‚¢ãŒå–å¾—ã§ããªã„å ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤\n        avg_score\
          \ = 6.0\n        total_score = 30\n    \n    # ã‚°ãƒ¬ãƒ¼ãƒ‰åˆ¤å®š\n    if avg_score\
          \ >= 9.0:\n        grade = \"S\"\n        recommendation = \"å¼·ãæ¨è–¦\"\n  \
          \  elif avg_score >= 8.0:\n        grade = \"A\"\n        recommendation\
          \ = \"æ¨è–¦\"\n    elif avg_score >= 7.0:\n        grade = \"B\"\n        recommendation\
          \ = \"æ¡ä»¶ä»˜ãæ¨è–¦\"\n    elif avg_score >= 6.0:\n        grade = \"C\"\n    \
          \    recommendation = \"è¦æ¤œè¨\"\n    else:\n        grade = \"D\"\n      \
          \  recommendation = \"éæ¨è–¦\"\n    \n    return {\n        \"total_score\"\
          : int(total_score),\n        \"average_score\": round(avg_score, 1),\n \
          \       \"grade\": grade,\n        \"recommendation\": recommendation,\n\
          \        \"extracted_scores\": scores\n    }\n"
        code_language: python3
        desc: åˆ†æçµæœã‹ã‚‰ã‚¹ã‚³ã‚¢ã‚’ç®—å‡º
        error_strategy: fail-branch
        outputs:
          average_score:
            children: null
            type: number
          extracted_scores:
            children: null
            type: array[number]
          grade:
            children: null
            type: string
          recommendation:
            children: null
            type: string
          total_score:
            children: null
            type: number
        selected: false
        title: ã‚¹ã‚³ã‚¢ç®—å‡ºå‡¦ç†
        type: code
        variables:
        - value_selector:
          - it_analysis_node
          - text
          variable: analysis_text
        - value_selector:
          - sales_analysis_node
          - text
          variable: analysis_text
        - value_selector:
          - general_analysis_node
          - text
          variable: analysis_text
      height: 118
      id: scoring_node
      position:
        x: 1850
        y: 200
      positionAbsolute:
        x: 1850
        y: 200
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: æœ€çµ‚ç·åˆãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
        model:
          completion_params:
            temperature: 0.4
          mode: chat
          name: gpt-4
          provider: langgenius/openai/openai
        prompt_template:
        - id: system-prompt
          role: system
          text: 'å±¥æ­´æ›¸åˆ†æã®æœ€çµ‚ãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

            å°‚é–€çš„ã§èª­ã¿ã‚„ã™ãã€æ¡ç”¨åˆ¤æ–­ã«å½¹ç«‹ã¤å½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚

            '
        - id: user-prompt
          role: user
          text: 'ã€å€™è£œè€…åŸºæœ¬æƒ…å ±ã€‘

            æ°å: {{#param_extract_node.candidate_name#}}

            å¹´é½¢: {{#param_extract_node.age#}}æ­³

            å¯¾è±¡è·ç¨®: {{#start_node.target_position#}}

            ç·è·æ­´: {{#param_extract_node.total_experience_years#}}å¹´

            å­¦æ­´: {{#param_extract_node.education#}}


            ã€ç®—å‡ºã•ã‚ŒãŸã‚¹ã‚³ã‚¢ã€‘

            ç·åˆã‚¹ã‚³ã‚¢: {{#scoring_node.total_score#}}ç‚¹

            å¹³å‡ã‚¹ã‚³ã‚¢: {{#scoring_node.average_score#}}ç‚¹

            ç·åˆã‚°ãƒ¬ãƒ¼ãƒ‰: {{#scoring_node.grade#}}

            æ¨è–¦åº¦: {{#scoring_node.recommendation#}}


            ã€è©³ç´°åˆ†æçµæœã€‘

            ä»¥ä¸‹ã®å°‚é–€åˆ†æã‚’åŸºã«ã€ç·åˆçš„ãªè©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼š


            å°‚é–€åˆ†æå†…å®¹ã‚’ã“ã“ã«çµ±åˆè¡¨ç¤º


            æœ€çµ‚çš„ãªæ¡ç”¨æ¨è–¦å¯å¦ã¨ç†ç”±ã‚’æ˜ç¢ºã«ç¤ºã—ã¦ãã ã•ã„ã€‚

            '
        selected: false
        structured_output_enabled: false
        title: æœ€çµ‚ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 118
      id: final_report_node
      position:
        x: 2150
        y: 200
      positionAbsolute:
        x: 2150
        y: 200
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: "## \U0001F4CA å±¥æ­´æ›¸åˆ†æå®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ\n\n**\U0001F3AF ç·åˆè©•ä¾¡: {{#scoring_node.grade#}}ã‚°ãƒ¬ãƒ¼ãƒ‰ï¼ˆ{{#scoring_node.total_score#}}ç‚¹/50ç‚¹æº€ç‚¹ï¼‰**\n\
          **\U0001F4CB æ¨è–¦åº¦: {{#scoring_node.recommendation#}}**\n\n---\n\n{{#final_report_node.text#}}\n\
          \n---\n\n### \U0001F4C8 åˆ†æå®Ÿè¡Œãƒ•ãƒ­ãƒ¼\nâœ… ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç¢ºèª  \nâœ… æ–‡æ›¸ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º  \nâœ… æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿æŠ½å‡º\
          \  \nâœ… è·ç¨®åˆ¥å°‚é–€åˆ†æå®Ÿè¡Œ  \nâœ… ã‚¹ã‚³ã‚¢ç®—å‡ºãƒ»ã‚°ãƒ¬ãƒ¼ãƒ‰åˆ¤å®š  \nâœ… æœ€çµ‚ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆå®Œäº†  \n\n*æœ¬åˆ†æã¯é«˜åº¦ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«ã‚ˆã‚Šè‡ªå‹•å®Ÿè¡Œã•ã‚Œã¾ã—ãŸ*\n"
        desc: ''
        selected: false
        title: åˆ†æçµæœãƒ¬ãƒãƒ¼ãƒˆ
        type: answer
        variables: []
      height: 320
      id: final_answer_node
      position:
        x: 2450
        y: 200
      positionAbsolute:
        x: 2450
        y: 200
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -84.79107821379466
      y: 267.38257203788
      zoom: 1.029821223392099
