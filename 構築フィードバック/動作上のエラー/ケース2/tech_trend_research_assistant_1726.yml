app:
  description: "æŠ€è¡“åˆ†é‡ã®æœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’èª¿æŸ»ã—ã€æ•´ç†ãƒ»è¦ç´„ã™ã‚‹ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼"
  icon: "ğŸ”"
  icon_background: "#FFEAD5"
  mode: advanced-chat
  name: "ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ãƒˆãƒ¬ãƒ³ãƒ‰èª¿æŸ»ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ"
  use_icon_as_answer_icon: false

dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/tavily:0.0.5@dac4e31aa6cc4fb7add8f8c542f896ce52a19e6c32f6f4c1ed0f93e10ba95f42

kind: app

version: 0.3.0

workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      enabled: false
    opening_statement: |
      ã“ã‚“ã«ã¡ã¯ï¼æŠ€è¡“ãƒˆãƒ¬ãƒ³ãƒ‰èª¿æŸ»ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚
      
      èª¿æŸ»ã—ãŸã„æŠ€è¡“åˆ†é‡ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼ˆä¾‹ï¼šAIã€ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã€é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ã‚¯ãƒ©ã‚¦ãƒ‰ã€IoTç­‰ï¼‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
      æœ€æ–°ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã¨å‹•å‘ã‚’ãƒ¬ãƒãƒ¼ãƒˆã«ã¾ã¨ã‚ã¾ã™ã€‚
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
      - "AIã®æœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’æ•™ãˆã¦"
      - "ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³æŠ€è¡“ã®æœ€æ–°å‹•å‘ã¯ï¼Ÿ"
      - "é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®ç¾çŠ¶ã«ã¤ã„ã¦"
      - "ã‚¯ãƒ©ã‚¦ãƒ‰ãƒã‚¤ãƒ†ã‚£ãƒ–æŠ€è¡“ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã¯ï¼Ÿ"
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
  graph:
    edges:
      - data:
          isInLoop: false
          sourceType: start
          targetType: tool
        id: start-websearch-edge
        selected: false
        source: start_node
        sourceHandle: source
        target: web_search_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: tool
          targetType: llm
        id: websearch-analysis-edge
        selected: false
        source: web_search_node
        sourceHandle: source
        target: analysis_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: llm
        id: analysis-report-edge
        selected: false
        source: analysis_node
        sourceHandle: source
        target: report_generation_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: answer
        id: report-answer-edge
        selected: false
        source: report_generation_node
        sourceHandle: source
        target: answer_node
        targetHandle: target
        type: custom
        zIndex: 0
    nodes:
      - data:
          desc: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®æŠ€è¡“ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ã‚’å—ã‘ä»˜ã‘ã‚‹"
          selected: false
          title: "é–‹å§‹"
          type: start
          variables: []
        height: 54
        id: start_node
        position:
          x: 50
          y: 200
        positionAbsolute:
          x: 50
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          provider_id: langgenius/tavily/tavily
          provider_type: builtin
          tool_name: tavily_search
          is_team_authorization: true
          tool_parameters:
            query:
              type: mixed
              value: '{{#sys.query#}} latest news technology trends 2025'
            search_depth: basic
            topic: news
            days: 7
            max_results: 10
            include_answer: false
            include_images: false
            include_raw_content: false
            time_range: week
          desc: "Tavily Searchã§æœ€æ–°ã®æŠ€è¡“ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’æ¤œç´¢"
          selected: false
          title: "WEBæ¤œç´¢"
          type: tool
        height: 98
        id: web_search_node
        position:
          x: 350
          y: 200
        positionAbsolute:
          x: 350
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          model:
            provider: openai
            name: gpt-4o-mini
            mode: chat
            completion_params:
              temperature: 0.3
              max_tokens: 2000
          structured_output_enabled: false
          vision:
            enabled: false
          variables: []
          context:
            enabled: false
            variable_selector: []
          desc: "æ¤œç´¢çµæœã‚’åˆ†æã—ã¦ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’æŠ½å‡º"
          selected: false
          title: "ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ"
          type: llm
          prompt_template:
            - id: system-prompt-analysis
              role: system
              text: |
                ã‚ãªãŸã¯æŠ€è¡“ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã®å°‚é–€å®¶ã§ã™ã€‚
                æä¾›ã•ã‚ŒãŸæ¤œç´¢çµæœã‹ã‚‰é‡è¦ãªãƒˆãƒ¬ãƒ³ãƒ‰ã¨è©±é¡Œã‚’æŠ½å‡ºã—ã€æ•´ç†ã—ã¦ãã ã•ã„ã€‚
                
                ä»¥ä¸‹ã®è¦³ç‚¹ã§åˆ†æã—ã¦ãã ã•ã„ï¼š
                1. æœ€æ–°ã®æŠ€è¡“å‹•å‘
                2. æ³¨ç›®ã•ã‚Œã¦ã„ã‚‹ä¼æ¥­ã‚„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
                3. æŠ€è¡“ã®é€²å±•çŠ¶æ³
                4. ä»Šå¾Œã®å±•æœ›
            - id: user-prompt-analysis
              role: user
              text: |
                ä»¥ä¸‹ã¯ã€Œ{{#sys.query#}}ã€ã«é–¢ã™ã‚‹æœ€æ–°ã®æ¤œç´¢çµæœã§ã™ï¼š
                
                {{#web_search_node.text#}}
                
                ã“ã®æ¤œç´¢çµæœã‹ã‚‰é‡è¦ãªãƒˆãƒ¬ãƒ³ãƒ‰ã¨è©±é¡Œã‚’æŠ½å‡ºã—ã€ç®‡æ¡æ›¸ãã§æ•´ç†ã—ã¦ãã ã•ã„ã€‚
        height: 98
        id: analysis_node
        position:
          x: 650
          y: 200
        positionAbsolute:
          x: 650
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          model:
            provider: openai
            name: gpt-4o-mini
            mode: chat
            completion_params:
              temperature: 0.5
              max_tokens: 3000
          structured_output_enabled: false
          vision:
            enabled: false
          variables: []
          context:
            enabled: false
            variable_selector: []
          desc: "æœ€çµ‚çš„ãªãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ"
          selected: false
          title: "ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ"
          type: llm
          prompt_template:
            - id: system-prompt-report
              role: system
              text: |
                ã‚ãªãŸã¯æŠ€è¡“ãƒ¬ãƒãƒ¼ãƒˆã®å°‚é–€ãƒ©ã‚¤ã‚¿ãƒ¼ã§ã™ã€‚
                åˆ†æçµæœã‚’åŸºã«ã€èª­ã¿ã‚„ã™ãæ§‹é€ åŒ–ã•ã‚ŒãŸãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
            - id: user-prompt-report
              role: user
              text: |
                ã€Œ{{#sys.query#}}ã€ã«é–¢ã™ã‚‹æŠ€è¡“ãƒˆãƒ¬ãƒ³ãƒ‰èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆã‚’ä»¥ä¸‹ã®æ§‹æˆã§ä½œæˆã—ã¦ãã ã•ã„ï¼š
                
                åˆ†æçµæœï¼š
                {{#analysis_node.text#}}
                
                ãƒ¬ãƒãƒ¼ãƒˆæ§‹æˆï¼š
                1. èª¿æŸ»å¯¾è±¡æŠ€è¡“ã®æ¦‚è¦ï¼ˆ1-2æ®µè½ï¼‰
                2. æœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰ï¼ˆ3-5é …ç›®ã€å„é …ç›®ã«èª¬æ˜ã‚’ä»˜ã‘ã‚‹ï¼‰
                3. æ³¨ç›®ã™ã¹ãä¼æ¥­ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆå…·ä½“åã‚’æŒ™ã’ã¦èª¬æ˜ï¼‰
                4. ä»Šå¾Œã®å±•æœ›ï¼ˆæŠ€è¡“ã®å°†æ¥æ€§ã«ã¤ã„ã¦ï¼‰
                5. å‚è€ƒæƒ…å ±ï¼ˆèª¿æŸ»æ—¥æ™‚ã‚’å«ã‚ã‚‹ï¼‰
                
                èª­ã¿ã‚„ã™ãã€å°‚é–€ç”¨èªã«ã¯ç°¡å˜ãªèª¬æ˜ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚
        height: 98
        id: report_generation_node
        position:
          x: 950
          y: 200
        positionAbsolute:
          x: 950
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: '{{#report_generation_node.text#}}'
          desc: "ç”Ÿæˆã•ã‚ŒãŸãƒ¬ãƒãƒ¼ãƒˆã‚’è¡¨ç¤º"
          selected: false
          title: "ãƒ¬ãƒãƒ¼ãƒˆå‡ºåŠ›"
          type: answer
          variables: []
        height: 107
        id: answer_node
        position:
          x: 1250
          y: 200
        positionAbsolute:
          x: 1250
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
    viewport:
      x: 0
      y: 0
      zoom: 0.8