app:
  description: "LLMã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«ã‚’æ¤œè¨¼ã™ã‚‹ãŸã‚ã®ãƒ†ã‚¹ãƒˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚ç•°ãªã‚‹temperatureè¨­å®šã§ã®å¿œç­”ã‚’æ¯”è¼ƒã—ã€å¤‰æ•°å‚ç…§ã‚„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å‹•ä½œã‚’ç¢ºèªã—ã¾ã™ã€‚"
  icon: "ğŸ§ª"
  icon_background: "#FF6B6B"
  mode: advanced-chat
  name: "LLMã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ¤œè¨¼ãƒ†ã‚¹ãƒˆ"
  use_icon_as_answer_icon: false

dependencies: []

kind: app
version: 0.3.0

workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      enabled: false
    opening_statement: |
      LLMã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ¤œè¨¼ãƒ†ã‚¹ãƒˆã¸ã‚ˆã†ã“ãï¼
      
      ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ç•°ãªã‚‹æ¸©åº¦è¨­å®šï¼ˆ0.1ã€0.5ã€0.9ï¼‰ã§ã®å¿œç­”ã‚’æ¯”è¼ƒã—ã€LLMã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹•ä½œã‚’æ¤œè¨¼ã—ã¾ã™ã€‚
      
      ãƒ†ã‚¹ãƒˆã—ãŸã„å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼š
      - çŸ­ã„è³ªå•ã‚„æ–‡ç« 
      - è¦ç´„ã—ã¦ã‚‚ã‚‰ã„ãŸã„ãƒ†ã‚­ã‚¹ãƒˆ
      - å‰µé€ çš„ãªè§£é‡ˆã‚’æ±‚ã‚ã‚‹å†…å®¹
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
      - "äººå·¥çŸ¥èƒ½ã®æœªæ¥ã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„"
      - "é‡å­ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®åŸºæœ¬åŸç†ã‚’èª¬æ˜ã—ã¦ãã ã•ã„"
      - "åœ°çƒæ¸©æš–åŒ–å¯¾ç­–ã¨ã—ã¦å€‹äººãŒã§ãã‚‹ã“ã¨ã¯ä½•ã§ã™ã‹"
      - "å®‡å®™ã®èµ·æºã«ã¤ã„ã¦ç¾åœ¨ã®ç§‘å­¦çš„ç†è§£ã‚’æ•™ãˆã¦ãã ã•ã„"
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
  graph:
    edges:
      - data:
          isInLoop: false
          sourceType: start
          targetType: llm
        id: start-factual-edge
        selected: false
        source: start_node
        sourceHandle: source
        target: factual_llm_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: start
          targetType: llm
        id: start-balanced-edge
        selected: false
        source: start_node
        sourceHandle: source
        target: balanced_llm_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: start
          targetType: llm
        id: start-creative-edge
        selected: false
        source: start_node
        sourceHandle: source
        target: creative_llm_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: llm
        id: factual-integration-edge
        selected: false
        source: factual_llm_node
        sourceHandle: source
        target: integration_llm_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: llm
        id: balanced-integration-edge
        selected: false
        source: balanced_llm_node
        sourceHandle: source
        target: integration_llm_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: llm
        id: creative-integration-edge
        selected: false
        source: creative_llm_node
        sourceHandle: source
        target: integration_llm_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: answer
        id: integration-answer-edge
        selected: false
        source: integration_llm_node
        sourceHandle: source
        target: answer_node
        targetHandle: target
        type: custom
        zIndex: 0
    nodes:
      - data:
          desc: "ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’å—ã‘å–ã‚‹é–‹å§‹ãƒãƒ¼ãƒ‰"
          selected: false
          title: "é–‹å§‹"
          type: start
          variables:
            - label: "ãƒ†ã‚¹ãƒˆå…¥åŠ›"
              max_length: 5000
              options: []
              required: true
              type: paragraph
              variable: user_input
        height: 116
        id: start_node
        position:
          x: 50
          y: 250
        positionAbsolute:
          x: 50
          y: 250
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          context:
            enabled: false
            variable_selector: []
          desc: "ä½æ¸©åº¦è¨­å®šï¼ˆ0.1ï¼‰ã§äº‹å®Ÿãƒ™ãƒ¼ã‚¹ã®è¦ç´„ç”Ÿæˆã‚’æ¤œè¨¼"
          memory:
            enabled: false
          model:
            completion_params:
              max_tokens: 1000
              temperature: 0.1
              top_p: 0.5
            mode: chat
            name: gpt-4
            provider: openai
          prompt_template:
            - id: system-prompt-factual
              role: system
              text: |
                ã‚ãªãŸã¯æ­£ç¢ºæ€§ã‚’é‡è¦–ã™ã‚‹æƒ…å ±ã‚¢ãƒŠãƒªã‚¹ãƒˆã§ã™ã€‚
                ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã«å³å¯†ã«å¾“ã£ã¦å›ç­”ã—ã¦ãã ã•ã„ï¼š
                1. äº‹å®Ÿã®ã¿ã‚’è¿°ã¹ã‚‹
                2. æ¨æ¸¬ã‚„å€‹äººçš„ãªæ„è¦‹ã¯å«ã‚ãªã„
                3. å®¢è¦³çš„ã§ä¸­ç«‹çš„ãªè¡¨ç¾ã‚’ä½¿ç”¨
                4. æƒ…å ±æºãŒä¸æ˜ç¢ºãªå ´åˆã¯æ˜è¨˜ã™ã‚‹
            - id: user-prompt-factual
              role: user
              text: |
                ä»¥ä¸‹ã®å†…å®¹ã«ã¤ã„ã¦ã€äº‹å®Ÿãƒ™ãƒ¼ã‚¹ã®è¦ç´„ã‚’æä¾›ã—ã¦ãã ã•ã„ï¼š
                
                {{#start_node.user_input#}}
          selected: false
          structured_output_enabled: false
          title: "äº‹å®Ÿãƒ™ãƒ¼ã‚¹LLMï¼ˆæ¸©åº¦0.1ï¼‰"
          type: llm
          variables: []
          vision:
            enabled: false
        height: 98
        id: factual_llm_node
        position:
          x: 350
          y: 100
        positionAbsolute:
          x: 350
          y: 100
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          context:
            enabled: false
            variable_selector: []
          desc: "ä¸­æ¸©åº¦è¨­å®šï¼ˆ0.5ï¼‰ã§ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸåˆ†æã‚’æ¤œè¨¼"
          memory:
            enabled: false
          model:
            completion_params:
              max_tokens: 1000
              temperature: 0.5
              top_p: 0.7
            mode: chat
            name: gpt-4
            provider: openai
          prompt_template:
            - id: system-prompt-balanced
              role: system
              text: |
                ã‚ãªãŸã¯ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸåˆ†æã‚’è¡Œã†ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆã§ã™ã€‚
                ä»¥ä¸‹ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã«å¾“ã£ã¦å›ç­”ã—ã¦ãã ã•ã„ï¼š
                1. äº‹å®Ÿã¨è§£é‡ˆã®ä¸¡æ–¹ã‚’å«ã‚ã‚‹
                2. è¤‡æ•°ã®è¦–ç‚¹ã‚’è€ƒæ…®ã™ã‚‹
                3. å®Ÿç”¨çš„ãªæ´å¯Ÿã‚’æä¾›
                4. æ˜ç¢ºã§æ§‹é€ åŒ–ã•ã‚ŒãŸå›ç­”
            - id: user-prompt-balanced
              role: user
              text: |
                ä»¥ä¸‹ã®å†…å®¹ã«ã¤ã„ã¦ã€ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸåˆ†æã‚’æä¾›ã—ã¦ãã ã•ã„ï¼š
                
                {{#start_node.user_input#}}
          selected: false
          structured_output_enabled: false
          title: "ãƒãƒ©ãƒ³ã‚¹å‹LLMï¼ˆæ¸©åº¦0.5ï¼‰"
          type: llm
          variables: []
          vision:
            enabled: false
        height: 98
        id: balanced_llm_node
        position:
          x: 350
          y: 250
        positionAbsolute:
          x: 350
          y: 250
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          context:
            enabled: false
            variable_selector: []
          desc: "é«˜æ¸©åº¦è¨­å®šï¼ˆ0.9ï¼‰ã§å‰µé€ çš„ãªè§£é‡ˆã‚’æ¤œè¨¼"
          memory:
            enabled: false
          model:
            completion_params:
              max_tokens: 1000
              temperature: 0.9
              top_p: 0.95
            mode: chat
            name: gpt-4
            provider: openai
          prompt_template:
            - id: system-prompt-creative
              role: system
              text: |
                ã‚ãªãŸã¯å‰µé€ çš„ãªæ€è€ƒã‚’å¾—æ„ã¨ã™ã‚‹ã‚¤ãƒãƒ™ãƒ¼ã‚¿ãƒ¼ã§ã™ã€‚
                ä»¥ä¸‹ã®æ–¹é‡ã§å›ç­”ã—ã¦ãã ã•ã„ï¼š
                1. ç‹¬å‰µçš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’æ¢æ±‚
                2. æ—¢æˆæ¦‚å¿µã«ã¨ã‚‰ã‚ã‚Œãªã„ç™ºæƒ³
                3. æ–°ã—ã„å¯èƒ½æ€§ã‚’ææ¡ˆ
                4. ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¸ãˆã‚‹è¡¨ç¾
            - id: user-prompt-creative
              role: user
              text: |
                ä»¥ä¸‹ã®å†…å®¹ã«ã¤ã„ã¦ã€å‰µé€ çš„ãªè§£é‡ˆã‚„æ–°ã—ã„è¦–ç‚¹ã‚’æä¾›ã—ã¦ãã ã•ã„ï¼š
                
                {{#start_node.user_input#}}
          selected: false
          structured_output_enabled: false
          title: "å‰µé€ çš„LLMï¼ˆæ¸©åº¦0.9ï¼‰"
          type: llm
          variables: []
          vision:
            enabled: false
        height: 98
        id: creative_llm_node
        position:
          x: 350
          y: 400
        positionAbsolute:
          x: 350
          y: 400
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          context:
            enabled: true
            variable_selector:
              - start_node
              - user_input
          desc: "3ã¤ã®ç•°ãªã‚‹å¿œç­”ã‚’çµ±åˆã—ã¦æ¯”è¼ƒåˆ†æã‚’è¡Œã†"
          memory:
            enabled: true
            role_prefix:
              assistant: "åˆ†æçµæœï¼š"
              user: "å…¥åŠ›ï¼š"
            window:
              enabled: true
              size: 5
          model:
            completion_params:
              max_tokens: 2000
              temperature: 0.3
            mode: chat
            name: gpt-4
            provider: openai
          prompt_template:
            - id: system-prompt-integration
              role: system
              text: |
                ã‚ãªãŸã¯æ¯”è¼ƒåˆ†æã®å°‚é–€å®¶ã§ã™ã€‚
                3ã¤ã®ç•°ãªã‚‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«ã‚ˆã‚‹å¿œç­”ã‚’çµ±åˆã—ã€ä»¥ä¸‹ã®å½¢å¼ã§åŒ…æ‹¬çš„ãªåˆ†æã‚’æä¾›ã—ã¦ãã ã•ã„ï¼š
                
                1. å„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®ç‰¹å¾´ã¨å¼·ã¿
                2. å…±é€šç‚¹ã¨ç›¸é•ç‚¹ã®åˆ†æ
                3. çŠ¶æ³ã«å¿œã˜ãŸä½¿ã„åˆ†ã‘ã®ææ¡ˆ
                4. ç·åˆçš„ãªçµè«–ã¨æ¨å¥¨äº‹é …
                
                å‡ºåŠ›ã¯æ˜ç¢ºãªæ§‹é€ ã¨ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å½¢å¼ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
            - id: user-prompt-integration
              role: user
              text: |
                å…ƒã®å…¥åŠ›ï¼š
                {{#start_node.user_input#}}
                
                ## äº‹å®Ÿãƒ™ãƒ¼ã‚¹ã®å¿œç­”ï¼ˆæ¸©åº¦0.1ï¼‰
                {{#factual_llm_node.text#}}
                
                ## ãƒãƒ©ãƒ³ã‚¹å‹ã®å¿œç­”ï¼ˆæ¸©åº¦0.5ï¼‰
                {{#balanced_llm_node.text#}}
                
                ## å‰µé€ çš„ãªå¿œç­”ï¼ˆæ¸©åº¦0.9ï¼‰
                {{#creative_llm_node.text#}}
                
                ä¸Šè¨˜ã®3ã¤ã®å¿œç­”ã‚’æ¯”è¼ƒåˆ†æã—ã€ãã‚Œãã‚Œã®ç‰¹å¾´ã¨é©ç”¨å ´é¢ã«ã¤ã„ã¦èª¬æ˜ã—ã¦ãã ã•ã„ã€‚
          selected: false
          structured_output_enabled: false
          title: "çµ±åˆåˆ†æLLM"
          type: llm
          variables: []
          vision:
            enabled: false
        height: 98
        id: integration_llm_node
        position:
          x: 650
          y: 250
        positionAbsolute:
          x: 650
          y: 250
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            # LLMã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ¤œè¨¼çµæœ
            
            {{#integration_llm_node.text#}}
            
            ---
            
            ## æ¤œè¨¼é …ç›®ã®ç¢ºèªçµæœ
            âœ… LLMãƒãƒ¼ãƒ‰ã®å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®šï¼šå®Œäº†
            âœ… prompt_templateé…åˆ—å½¢å¼ï¼šæ­£å¸¸å‹•ä½œ
            âœ… å¤‰æ•°å‚ç…§å½¢å¼ï¼ˆ{{#node_id.variable#}}ï¼‰ï¼šæ­£å¸¸å‹•ä½œ
            âœ… completion_paramsè¨­å®šï¼šå„æ¸©åº¦è¨­å®šã§æœŸå¾…é€šã‚Šã®å‹•ä½œ
            âœ… memory/contextè¨­å®šï¼šçµ±åˆãƒãƒ¼ãƒ‰ã§æ­£å¸¸å‹•ä½œç¢ºèª
            
            ### ä½¿ç”¨ã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«è¨­å®š
            - äº‹å®Ÿãƒ™ãƒ¼ã‚¹ï¼štemperature=0.1, top_p=0.5
            - ãƒãƒ©ãƒ³ã‚¹å‹ï¼štemperature=0.5, top_p=0.7
            - å‰µé€ çš„ï¼štemperature=0.9, top_p=0.95
          desc: "æ¤œè¨¼çµæœã¨çµ±åˆåˆ†æã‚’è¡¨ç¤º"
          selected: false
          title: "å›ç­”"
          type: answer
          variables: []
        height: 374
        id: answer_node
        position:
          x: 950
          y: 250
        positionAbsolute:
          x: 950
          y: 250
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
    viewport:
      x: 0
      y: 0
      zoom: 0.8