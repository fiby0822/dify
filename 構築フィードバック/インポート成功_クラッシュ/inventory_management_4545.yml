app:
  description: "å•†å“åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼šåœ¨åº«æ•°ã«å¿œã˜ã¦é©åˆ‡ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ç™ºæ³¨æ¨å¥¨ã‚’è¿”ã™ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³"
  icon: "ğŸ“¦"
  icon_background: "#FFEAD5"
  mode: advanced-chat
  name: "å•†å“åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ "
  use_icon_as_answer_icon: false

dependencies: []

kind: app
version: 0.3.0

workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      enabled: false
    opening_statement: |
      å•†å“åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã¸ã‚ˆã†ã“ãï¼
      å•†å“ã®åœ¨åº«æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
      åœ¨åº«ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ã¦é©åˆ‡ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ç™ºæ³¨æ¨å¥¨ã‚’ãŠçŸ¥ã‚‰ã›ã—ã¾ã™ã€‚
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
      - "åœ¨åº«æ•°: 0"
      - "åœ¨åº«æ•°: 5"
      - "åœ¨åº«æ•°: 30"
      - "åœ¨åº«æ•°: 80"
      - "åœ¨åº«æ•°: 150"
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
      - data:
          isInLoop: false
          sourceType: start
          targetType: code
        id: start-validate-edge
        selected: false
        source: start_node
        sourceHandle: source
        target: validate_input_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: code
          targetType: if-else
        id: validate-check_invalid-edge
        selected: false
        source: validate_input_node
        sourceHandle: source
        target: check_invalid_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: answer
        id: check_invalid-invalid_answer-edge
        selected: false
        source: check_invalid_node
        sourceHandle: invalid_case
        target: invalid_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: if-else
        id: check_invalid-check_zero-edge
        selected: false
        source: check_invalid_node
        sourceHandle: false
        target: check_zero_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: answer
        id: check_zero-zero_answer-edge
        selected: false
        source: check_zero_node
        sourceHandle: zero_case
        target: zero_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: if-else
        id: check_zero-check_low-edge
        selected: false
        source: check_zero_node
        sourceHandle: false
        target: check_low_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: answer
        id: check_low-low_answer-edge
        selected: false
        source: check_low_node
        sourceHandle: low_case
        target: low_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: if-else
        id: check_low-check_normal-edge
        selected: false
        source: check_low_node
        sourceHandle: false
        target: check_normal_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: answer
        id: check_normal-normal_answer-edge
        selected: false
        source: check_normal_node
        sourceHandle: normal_case
        target: normal_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: if-else
        id: check_normal-check_high-edge
        selected: false
        source: check_normal_node
        sourceHandle: false
        target: check_high_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: answer
        id: check_high-high_answer-edge
        selected: false
        source: check_high_node
        sourceHandle: high_case
        target: high_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: answer
        id: check_high-excess_answer-edge
        selected: false
        source: check_high_node
        sourceHandle: false
        target: excess_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
    nodes:
      - data:
          desc: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®å…¥åŠ›ã‚’å—ã‘ä»˜ã‘ã‚‹"
          selected: false
          title: "é–‹å§‹"
          type: start
          variables: []
        height: 54
        id: start_node
        position:
          x: 50
          y: 200
        positionAbsolute:
          x: 50
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          code: |
            user_input = sys.query
            stock_number = -1
            
            try:
                stock_number = int(user_input)
                if stock_number < 0:
                    stock_number = -1
            except:
                stock_number = -1
            
            return {
                "stock_number": stock_number
            }
          desc: "å…¥åŠ›å€¤ã‚’æ•°å€¤ã«å¤‰æ›ã—ã€ç„¡åŠ¹ãªå ´åˆã¯-1ã‚’è¨­å®š"
          inputs:
            sys.query:
              type: str
          outputs:
            stock_number:
              type: int
          selected: false
          title: "å…¥åŠ›å€¤æ¤œè¨¼"
          type: code
        height: 98
        id: validate_input_node
        position:
          x: 350
          y: 200
        positionAbsolute:
          x: 350
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          cases:
            - id: invalid_case
              case_id: invalid_case
              conditions:
                - id: condition_1
                  variable_selector:
                    - validate_input_node
                    - stock_number
                  comparison_operator: "="
                  value: -1
              logical_operator: and
          desc: "ç„¡åŠ¹ãªå…¥åŠ›å€¤ã‚’ãƒã‚§ãƒƒã‚¯"
          selected: false
          title: "ç„¡åŠ¹å…¥åŠ›ãƒã‚§ãƒƒã‚¯"
          type: if-else
        height: 154
        id: check_invalid_node
        position:
          x: 650
          y: 200
        positionAbsolute:
          x: 650
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            âš ï¸ å…¥åŠ›ã‚¨ãƒ©ãƒ¼
            
            æ­£ã—ã„åœ¨åº«æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
            åœ¨åº«æ•°ã¯0ä»¥ä¸Šã®æ•´æ•°ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
          desc: "ç„¡åŠ¹å…¥åŠ›æ™‚ã®å›ç­”"
          selected: false
          title: "ç„¡åŠ¹å…¥åŠ›å›ç­”"
          type: answer
          variables: []
        height: 107
        id: invalid_answer_node
        position:
          x: 950
          y: 50
        positionAbsolute:
          x: 950
          y: 50
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          cases:
            - id: zero_case
              case_id: zero_case
              conditions:
                - id: condition_1
                  variable_selector:
                    - validate_input_node
                    - stock_number
                  comparison_operator: "="
                  value: 0
              logical_operator: and
          desc: "åœ¨åº«åˆ‡ã‚Œã‚’ãƒã‚§ãƒƒã‚¯"
          selected: false
          title: "åœ¨åº«åˆ‡ã‚Œãƒã‚§ãƒƒã‚¯"
          type: if-else
        height: 154
        id: check_zero_node
        position:
          x: 950
          y: 200
        positionAbsolute:
          x: 950
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            ğŸš¨ åœ¨åº«åˆ‡ã‚Œã§ã™
            
            ç¾åœ¨ã®åœ¨åº«æ•°: 0å€‹
            
            è‡³æ€¥ç™ºæ³¨ãŒå¿…è¦ã§ã™ï¼
            ã™ãã«ç™ºæ³¨æ‰‹ç¶šãã‚’è¡Œã£ã¦ãã ã•ã„ã€‚
          desc: "åœ¨åº«åˆ‡ã‚Œæ™‚ã®å›ç­”"
          selected: false
          title: "åœ¨åº«åˆ‡ã‚Œå›ç­”"
          type: answer
          variables: []
        height: 107
        id: zero_answer_node
        position:
          x: 1250
          y: 50
        positionAbsolute:
          x: 1250
          y: 50
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          cases:
            - id: low_case
              case_id: low_case
              conditions:
                - id: condition_1
                  variable_selector:
                    - validate_input_node
                    - stock_number
                  comparison_operator: "<="
                  value: 10
              logical_operator: and
          desc: "åœ¨åº«ã‚ãšã‹ã‚’ãƒã‚§ãƒƒã‚¯"
          selected: false
          title: "åœ¨åº«ã‚ãšã‹ãƒã‚§ãƒƒã‚¯"
          type: if-else
        height: 154
        id: check_low_node
        position:
          x: 1250
          y: 200
        positionAbsolute:
          x: 1250
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            âš ï¸ åœ¨åº«ã‚ãšã‹ã§ã™
            
            ç¾åœ¨ã®åœ¨åº«æ•°: {{#validate_input_node.stock_number#}}å€‹
            
            åœ¨åº«ãŒã‚ãšã‹ã«ãªã£ã¦ã„ã¾ã™ã€‚
            æ—©æ€¥ã«ç™ºæ³¨ã‚’ã”æ¤œè¨ãã ã•ã„ã€‚
          desc: "åœ¨åº«ã‚ãšã‹æ™‚ã®å›ç­”"
          selected: false
          title: "åœ¨åº«ã‚ãšã‹å›ç­”"
          type: answer
          variables: []
        height: 107
        id: low_answer_node
        position:
          x: 1550
          y: 50
        positionAbsolute:
          x: 1550
          y: 50
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          cases:
            - id: normal_case
              case_id: normal_case
              conditions:
                - id: condition_1
                  variable_selector:
                    - validate_input_node
                    - stock_number
                  comparison_operator: "<="
                  value: 50
              logical_operator: and
          desc: "é©æ­£ãƒ¬ãƒ™ãƒ«ã‚’ãƒã‚§ãƒƒã‚¯"
          selected: false
          title: "é©æ­£ãƒ¬ãƒ™ãƒ«ãƒã‚§ãƒƒã‚¯"
          type: if-else
        height: 154
        id: check_normal_node
        position:
          x: 1550
          y: 200
        positionAbsolute:
          x: 1550
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            âœ… åœ¨åº«ã¯é©æ­£ãƒ¬ãƒ™ãƒ«ã§ã™
            
            ç¾åœ¨ã®åœ¨åº«æ•°: {{#validate_input_node.stock_number#}}å€‹
            
            åœ¨åº«ãƒ¬ãƒ™ãƒ«ã¯é©æ­£ç¯„å›²å†…ã§ã™ã€‚
            é€šå¸¸ã®ç®¡ç†ã‚’ç¶™ç¶šã—ã¦ãã ã•ã„ã€‚
          desc: "é©æ­£ãƒ¬ãƒ™ãƒ«æ™‚ã®å›ç­”"
          selected: false
          title: "é©æ­£ãƒ¬ãƒ™ãƒ«å›ç­”"
          type: answer
          variables: []
        height: 107
        id: normal_answer_node
        position:
          x: 1850
          y: 50
        positionAbsolute:
          x: 1850
          y: 50
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          cases:
            - id: high_case
              case_id: high_case
              conditions:
                - id: condition_1
                  variable_selector:
                    - validate_input_node
                    - stock_number
                  comparison_operator: "<="
                  value: 100
              logical_operator: and
          desc: "ååˆ†ãƒ¬ãƒ™ãƒ«ã‚’ãƒã‚§ãƒƒã‚¯"
          selected: false
          title: "ååˆ†ãƒ¬ãƒ™ãƒ«ãƒã‚§ãƒƒã‚¯"
          type: if-else
        height: 154
        id: check_high_node
        position:
          x: 1850
          y: 200
        positionAbsolute:
          x: 1850
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            ğŸ‘ åœ¨åº«ã¯ååˆ†ã«ã‚ã‚Šã¾ã™
            
            ç¾åœ¨ã®åœ¨åº«æ•°: {{#validate_input_node.stock_number#}}å€‹
            
            åœ¨åº«ãƒ¬ãƒ™ãƒ«ã¯ååˆ†ã§ã™ã€‚
            å½“é¢ã®ç™ºæ³¨ã¯ä¸è¦ã§ã™ã€‚
          desc: "ååˆ†ãƒ¬ãƒ™ãƒ«æ™‚ã®å›ç­”"
          selected: false
          title: "ååˆ†ãƒ¬ãƒ™ãƒ«å›ç­”"
          type: answer
          variables: []
        height: 107
        id: high_answer_node
        position:
          x: 2150
          y: 50
        positionAbsolute:
          x: 2150
          y: 50
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            ğŸ“Š åœ¨åº«éå¤šã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
            
            ç¾åœ¨ã®åœ¨åº«æ•°: {{#validate_input_node.stock_number#}}å€‹
            
            åœ¨åº«ãƒ¬ãƒ™ãƒ«ãŒéå‰°ã§ã™ã€‚
            åœ¨åº«èª¿æ•´ã‚’ã”æ¤œè¨ãã ã•ã„ã€‚
            ä¿ç®¡ã‚³ã‚¹ãƒˆã‚„å•†å“ã®åŠ£åŒ–ãƒªã‚¹ã‚¯ã«ã”æ³¨æ„ãã ã•ã„ã€‚
          desc: "åœ¨åº«éå¤šæ™‚ã®å›ç­”"
          selected: false
          title: "åœ¨åº«éå¤šå›ç­”"
          type: answer
          variables: []
        height: 107
        id: excess_answer_node
        position:
          x: 2150
          y: 350
        positionAbsolute:
          x: 2150
          y: 350
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244