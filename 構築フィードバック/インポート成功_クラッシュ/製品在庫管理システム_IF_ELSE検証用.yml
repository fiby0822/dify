app:
  description: è£½å“ã®åœ¨åº«çŠ¶æ³ã‚’åˆ†æã—ã€åœ¨åº«ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ã¦é©åˆ‡ãªå¯¾å¿œã‚’ææ¡ˆã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ 
  icon: ğŸ“¦
  icon_background: "#E0F2FE"
  mode: advanced-chat
  name: è£½å“åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ _IF_ELSEæ¤œè¨¼ç”¨
  use_icon_as_answer_icon: false

dependencies: []

kind: app

version: 0.3.0

workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      enabled: false
    opening_statement: "è£½å“åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã¸ã‚ˆã†ã“ãã€‚\n\nè£½å“ã®åœ¨åº«çŠ¶æ³ã‚’åˆ†æã—ã€é©åˆ‡ãªå¯¾å¿œã‚’ææ¡ˆã—ã¾ã™ã€‚\nä»¥ä¸‹ã®æƒ…å ±ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼š\n\n1. è£½å“å\n2. ç¾åœ¨ã®åœ¨åº«æ•°ï¼ˆæ•°å€¤ï¼‰\n3. æœˆé–“å¹³å‡è²©å£²æ•°ï¼ˆæ•°å€¤ï¼‰\n4. å®‰å…¨åœ¨åº«æ•°ï¼ˆæ•°å€¤ï¼‰"
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ""
      voice: ""
  graph:
    edges:
    - data:
        isInLoop: false
        sourceType: start
        targetType: template-transform
      id: start_node-inventory_analysis_node-edge
      selected: false
      source: start_node
      sourceHandle: source
      target: inventory_analysis_node
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: template-transform
        targetType: if-else
      id: inventory_analysis_node-stock_level_check_node-edge
      selected: false
      source: inventory_analysis_node
      sourceHandle: source
      target: stock_level_check_node
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: stock_level_check_node-urgent_order_answer_node-edge
      selected: false
      source: stock_level_check_node
      sourceHandle: urgent_order_case
      target: urgent_order_answer_node
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: stock_level_check_node-normal_order_answer_node-edge
      selected: false
      source: stock_level_check_node
      sourceHandle: normal_order_case
      target: normal_order_answer_node
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: stock_level_check_node-excess_stock_answer_node-edge
      selected: false
      source: stock_level_check_node
      sourceHandle: "false"
      target: excess_stock_answer_node
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’å—ã‘å–ã‚‹é–‹å§‹ãƒãƒ¼ãƒ‰
        selected: false
        title: é–‹å§‹
        type: start
        variables: []
      height: 90
      id: start_node
      position:
        x: 80
        y: 200
      positionAbsolute:
        x: 80
        y: 200
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: åœ¨åº«åˆ†æã‚’å®Ÿæ–½ã—ã€åœ¨åº«å›è»¢æ—¥æ•°ã¨å……è¶³ç‡ã‚’è¨ˆç®—
        output_type: json
        selected: false
        template: "{\n  \"product_name\": \"{{ query }}\",\n  \"current_stock\": 150,\n  \"monthly_sales\": 10,\n  \"safety_stock\": 50,\n  \"stock_days\": \"åœ¨åº«å›è»¢æ—¥æ•°: 15æ—¥\",\n  \"stock_days_value\": 15,\n  \"sufficiency_rate\": \"åœ¨åº«å……è¶³ç‡: 300%\",\n  \"analysis_summary\": \"{{ query }}ã®ç¾åœ¨ã®åœ¨åº«æ•°ã¯150å€‹ã§ã€æœˆé–“å¹³å‡è²©å£²æ•°10å€‹ã«å¯¾ã—ã¦15æ—¥åˆ†ã®åœ¨åº«ãŒã‚ã‚Šã¾ã™ã€‚\"\n}"
        title: åœ¨åº«åˆ†æ
        type: template-transform
        variables:
        - value_selector:
          - sys
          - query
          variable: query
      height: 154
      id: inventory_analysis_node
      position:
        x: 380
        y: 200
      positionAbsolute:
        x: 380
        y: 200
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: urgent_order_case
          conditions:
          - comparison_operator: "<="
            id: urgent_condition_1
            value: 7
            variable_selector:
            - inventory_analysis_node
            - stock_days_value
          id: urgent_order_case
          logical_operator: and
        - case_id: normal_order_case
          conditions:
          - comparison_operator: "<="
            id: normal_condition_1
            value: 30
            variable_selector:
            - inventory_analysis_node
            - stock_days_value
          id: normal_order_case
          logical_operator: and
        desc: åœ¨åº«å›è»¢æ—¥æ•°ã«åŸºã¥ãåœ¨åº«ãƒ¬ãƒ™ãƒ«åˆ¤å®š
        selected: false
        title: åœ¨åº«ãƒ¬ãƒ™ãƒ«åˆ¤å®š
        type: if-else
      height: 198
      id: stock_level_check_node
      position:
        x: 680
        y: 200
      positionAbsolute:
        x: 680
        y: 200
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: "âš ï¸ ç·Šæ€¥ç™ºæ³¨ãŒå¿…è¦ã§ã™ï¼\n\nè£½å“å: {{#inventory_analysis_node.product_name#}}\nåœ¨åº«å›è»¢æ—¥æ•°: {{#inventory_analysis_node.stock_days_value#}}æ—¥\n\nç¾åœ¨ã®åœ¨åº«ã¯7æ—¥ä»¥å†…ã«æ¯æ¸‡ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚\nä»¥ä¸‹ã®å¯¾å¿œã‚’æ¨å¥¨ã—ã¾ã™ï¼š\n\n1. å³åº§ã«ç·Šæ€¥ç™ºæ³¨ã‚’å®Ÿæ–½\n2. ä»•å…¥å…ˆã«ç´æœŸçŸ­ç¸®ã‚’ä¾é ¼\n3. ä»£æ›¿è£½å“ã®æº–å‚™ã‚’æ¤œè¨\n4. è²©å£²éƒ¨é–€ã«åœ¨åº«çŠ¶æ³ã‚’é€šçŸ¥\n\nç·Šæ€¥å¯¾å¿œãŒå¿…è¦ãªçŠ¶æ³ã§ã™ã€‚"
        desc: ç·Šæ€¥ç™ºæ³¨ãƒ¬ãƒ™ãƒ«ã®å›ç­”
        selected: false
        title: ç·Šæ€¥ç™ºæ³¨æ¡ˆå†…
        type: answer
      height: 107
      id: urgent_order_answer_node
      position:
        x: 980
        y: 50
      positionAbsolute:
        x: 980
        y: 50
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: "ğŸ“‹ é€šå¸¸ç™ºæ³¨ã‚’æ¨å¥¨ã—ã¾ã™\n\nè£½å“å: {{#inventory_analysis_node.product_name#}}\nåœ¨åº«å›è»¢æ—¥æ•°: {{#inventory_analysis_node.stock_days_value#}}æ—¥\n\nåœ¨åº«ã¯é©æ­£ç¯„å›²å†…ã§ã™ãŒã€è£œå……ãŒå¿…è¦ã§ã™ã€‚\nä»¥ä¸‹ã®å¯¾å¿œã‚’æ¨å¥¨ã—ã¾ã™ï¼š\n\n1. é€šå¸¸ã®ç™ºæ³¨ãƒ—ãƒ­ã‚»ã‚¹ã§è£œå……\n2. æ¥æœˆã®éœ€è¦äºˆæ¸¬ã‚’ç¢ºèª\n3. å®šæœŸç™ºæ³¨ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®è¦‹ç›´ã—\n\nè¨ˆç”»çš„ãªåœ¨åº«ç®¡ç†ã‚’ç¶™ç¶šã—ã¦ãã ã•ã„ã€‚"
        desc: é€šå¸¸ç™ºæ³¨ãƒ¬ãƒ™ãƒ«ã®å›ç­”
        selected: false
        title: é€šå¸¸ç™ºæ³¨æ¡ˆå†…
        type: answer
      height: 107
      id: normal_order_answer_node
      position:
        x: 980
        y: 200
      positionAbsolute:
        x: 980
        y: 200
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: "ğŸ“Š åœ¨åº«éå¤šã®çŠ¶æ³ã§ã™\n\nè£½å“å: {{#inventory_analysis_node.product_name#}}\nåœ¨åº«å›è»¢æ—¥æ•°: {{#inventory_analysis_node.stock_days_value#}}æ—¥\n\nåœ¨åº«ãŒéå‰°ãªçŠ¶æ…‹ã§ã™ã€‚\nä»¥ä¸‹ã®å¯¾å¿œã‚’æ¨å¥¨ã—ã¾ã™ï¼š\n\n1. æ–°è¦ç™ºæ³¨ã®ä¸€æ™‚åœæ­¢\n2. è²©å£²ä¿ƒé€²ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®æ¤œè¨\n3. åœ¨åº«ã®å“è³ªãƒã‚§ãƒƒã‚¯å®Ÿæ–½\n4. ä¿ç®¡ã‚³ã‚¹ãƒˆã®è¦‹ç›´ã—\n\nåœ¨åº«ã®é©æ­£åŒ–ã«å‘ã‘ãŸæ–½ç­–ã‚’å®Ÿæ–½ã—ã¦ãã ã•ã„ã€‚"
        desc: åœ¨åº«éå¤šãƒ¬ãƒ™ãƒ«ã®å›ç­”ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
        selected: false
        title: åœ¨åº«éå¤šæ¡ˆå†…
        type: answer
      height: 107
      id: excess_stock_answer_node
      position:
        x: 980
        y: 350
      positionAbsolute:
        x: 980
        y: 350
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244