app:
  description: "æ›´æ–°ã•ã‚ŒãŸIF_ELSEãƒ«ãƒ¼ãƒ«ã®3ã¤ã®è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¤œè¨¼ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³"
  icon: "ğŸ”"
  icon_background: "#FFE5E5"
  mode: advanced-chat
  name: "IF_ELSEè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œè¨¼ã‚¢ãƒ—ãƒª"
  use_icon_as_answer_icon: false

dependencies: []

kind: app

version: 0.3.0

workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      enabled: false
    opening_statement: |
      IF_ELSEã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ›´æ–°ã•ã‚ŒãŸãƒ«ãƒ¼ãƒ«ã«åŸºã¥ã3ã¤ã®è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚
      
      ãƒ†ã‚¹ãƒˆã—ãŸã„ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼š
      ä¾‹1: ãƒ‘ã‚¿ãƒ¼ãƒ³1 ã‚¹ã‚³ã‚¢85
      ä¾‹2: ãƒ‘ã‚¿ãƒ¼ãƒ³2 ãƒ¬ãƒ™ãƒ«ä½
      ä¾‹3: ãƒ‘ã‚¿ãƒ¼ãƒ³3 å„ªå…ˆåº¦é«˜
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
      - "ãƒ‘ã‚¿ãƒ¼ãƒ³1 ã‚¹ã‚³ã‚¢95"
      - "ãƒ‘ã‚¿ãƒ¼ãƒ³2 ãƒ¬ãƒ™ãƒ«ä¸­"
      - "ãƒ‘ã‚¿ãƒ¼ãƒ³3 å„ªå…ˆåº¦ä½"
      - "å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ†ã‚¹ãƒˆ"
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
      - data:
          isInLoop: false
          sourceType: start
          targetType: code
        id: start-parser-edge
        selected: false
        source: start_node
        sourceHandle: source
        target: input_parser_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: code
          targetType: if-else
        id: parser-pattern-edge
        selected: false
        source: input_parser_node
        sourceHandle: source
        target: pattern_selector_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: if-else
        id: pattern-pattern1-edge
        selected: false
        source: pattern_selector_node
        sourceHandle: pattern1_case
        target: pattern1_score_check_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: answer
        id: pattern1-high-answer-edge
        selected: false
        source: pattern1_score_check_node
        sourceHandle: high_score_case
        target: pattern1_high_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: answer
        id: pattern1-medium-answer-edge
        selected: false
        source: pattern1_score_check_node
        sourceHandle: medium_score_case
        target: pattern1_medium_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: answer
        id: pattern1-low-answer-edge
        selected: false
        source: pattern1_score_check_node
        sourceHandle: false
        target: pattern1_low_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: if-else
        id: pattern-pattern2-edge
        selected: false
        source: pattern_selector_node
        sourceHandle: pattern2_case
        target: pattern2_level_check_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: llm
        id: pattern2-high-process-edge
        selected: false
        source: pattern2_level_check_node
        sourceHandle: high_level_case
        target: pattern2_high_process_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: llm
        id: pattern2-medium-process-edge
        selected: false
        source: pattern2_level_check_node
        sourceHandle: medium_level_case
        target: pattern2_medium_process_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: llm
        id: pattern2-low-process-edge
        selected: false
        source: pattern2_level_check_node
        sourceHandle: false
        target: pattern2_low_process_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: llm
        id: pattern2-high-aggregate-edge
        selected: false
        source: pattern2_high_process_node
        sourceHandle: source
        target: pattern2_aggregate_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: llm
        id: pattern2-medium-aggregate-edge
        selected: false
        source: pattern2_medium_process_node
        sourceHandle: source
        target: pattern2_aggregate_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: llm
        id: pattern2-low-aggregate-edge
        selected: false
        source: pattern2_low_process_node
        sourceHandle: source
        target: pattern2_aggregate_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: answer
        id: pattern2-aggregate-answer-edge
        selected: false
        source: pattern2_aggregate_node
        sourceHandle: source
        target: pattern2_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: if-else
        id: pattern-pattern3-edge
        selected: false
        source: pattern_selector_node
        sourceHandle: pattern3_case
        target: pattern3_priority_check_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: llm
        id: pattern3-high-priority-edge
        selected: false
        source: pattern3_priority_check_node
        sourceHandle: high_priority_case
        target: pattern3_high_priority_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: llm
        id: pattern3-medium-priority-edge
        selected: false
        source: pattern3_priority_check_node
        sourceHandle: medium_priority_case
        target: pattern3_medium_priority_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: llm
        id: pattern3-default-edge
        selected: false
        source: pattern3_priority_check_node
        sourceHandle: false
        target: pattern3_default_handler_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: answer
        id: pattern3-high-answer-edge
        selected: false
        source: pattern3_high_priority_node
        sourceHandle: source
        target: pattern3_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: answer
        id: pattern3-medium-answer-edge
        selected: false
        source: pattern3_medium_priority_node
        sourceHandle: source
        target: pattern3_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: llm
          targetType: answer
        id: pattern3-default-answer-edge
        selected: false
        source: pattern3_default_handler_node
        sourceHandle: source
        target: pattern3_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
      - data:
          isInLoop: false
          sourceType: if-else
          targetType: answer
        id: pattern-all-test-edge
        selected: false
        source: pattern_selector_node
        sourceHandle: false
        target: all_pattern_test_answer_node
        targetHandle: target
        type: custom
        zIndex: 0
    nodes:
      - data:
          desc: "ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®é–‹å§‹ç‚¹"
          selected: false
          title: "é–‹å§‹"
          type: start
          variables: []
        height: 54
        id: start_node
        position:
          x: 50
          y: 500
        positionAbsolute:
          x: 50
          y: 500
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          code: |
            def main():
                user_input = sys.query.lower()
                
                pattern = ""
                test_value = ""
                numeric_value = 0
                
                if "ãƒ‘ã‚¿ãƒ¼ãƒ³1" in user_input or "pattern1" in user_input:
                    pattern = "pattern1"
                    import re
                    numbers = re.findall(r'\d+', user_input)
                    if numbers:
                        numeric_value = int(numbers[0])
                    test_value = f"ã‚¹ã‚³ã‚¢{numeric_value}"
                elif "ãƒ‘ã‚¿ãƒ¼ãƒ³2" in user_input or "pattern2" in user_input:
                    pattern = "pattern2"
                    if "é«˜" in user_input or "high" in user_input:
                        test_value = "ãƒ¬ãƒ™ãƒ«é«˜"
                    elif "ä¸­" in user_input or "medium" in user_input:
                        test_value = "ãƒ¬ãƒ™ãƒ«ä¸­"
                    else:
                        test_value = "ãƒ¬ãƒ™ãƒ«ä½"
                elif "ãƒ‘ã‚¿ãƒ¼ãƒ³3" in user_input or "pattern3" in user_input:
                    pattern = "pattern3"
                    if "é«˜" in user_input or "high" in user_input:
                        test_value = "å„ªå…ˆåº¦é«˜"
                    elif "ä¸­" in user_input or "medium" in user_input:
                        test_value = "å„ªå…ˆåº¦ä¸­"
                    else:
                        test_value = "å„ªå…ˆåº¦ä½"
                else:
                    pattern = "all"
                    test_value = "å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ†ã‚¹ãƒˆ"
                
                return {
                    "pattern": pattern,
                    "test_value": test_value,
                    "numeric_value": numeric_value
                }
          code_language: python3
          desc: "ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’è§£æã—ã¦ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨å€¤ã‚’æŠ½å‡º"
          outputs:
            pattern:
              type: string
            test_value:
              type: string
            numeric_value:
              type: number
          selected: false
          title: "å…¥åŠ›è§£æ"
          type: code
          variables: []
        height: 82
        id: input_parser_node
        position:
          x: 350
          y: 500
        positionAbsolute:
          x: 350
          y: 500
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          type: if-else
          cases:
            - id: pattern1_case
              case_id: pattern1_case
              conditions:
                - variable_selector:
                    - input_parser_node
                    - pattern
                  comparison_operator: is
                  value: "pattern1"
              logical_operator: and
            - id: pattern2_case
              case_id: pattern2_case
              conditions:
                - variable_selector:
                    - input_parser_node
                    - pattern
                  comparison_operator: is
                  value: "pattern2"
              logical_operator: and
            - id: pattern3_case
              case_id: pattern3_case
              conditions:
                - variable_selector:
                    - input_parser_node
                    - pattern
                  comparison_operator: is
                  value: "pattern3"
              logical_operator: and
          desc: "ãƒ†ã‚¹ãƒˆã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é¸æŠ"
          selected: false
          title: "ãƒ‘ã‚¿ãƒ¼ãƒ³é¸æŠ"
        height: 198
        id: pattern_selector_node
        position:
          x: 650
          y: 500
        positionAbsolute:
          x: 650
          y: 500
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          type: if-else
          cases:
            - id: high_score_case
              case_id: high_score_case
              conditions:
                - variable_selector:
                    - input_parser_node
                    - numeric_value
                  comparison_operator: "â‰¥"
                  value: 80
              logical_operator: and
            - id: medium_score_case
              case_id: medium_score_case
              conditions:
                - variable_selector:
                    - input_parser_node
                    - numeric_value
                  comparison_operator: "â‰¥"
                  value: 50
              logical_operator: and
          desc: "ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼šç‹¬ç«‹answerå‹ï¼ˆå„åˆ†å²ã‹ã‚‰ç›´æ¥answerã¸ï¼‰"
          selected: false
          title: "ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼šã‚¹ã‚³ã‚¢åˆ¤å®š"
        height: 198
        id: pattern1_score_check_node
        position:
          x: 950
          y: 50
        positionAbsolute:
          x: 950
          y: 50
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            ğŸ¯ ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼šç‹¬ç«‹answerå‹ãƒ†ã‚¹ãƒˆçµæœ
            
            âœ… é«˜ã‚¹ã‚³ã‚¢ï¼ˆ80ä»¥ä¸Šï¼‰ã‚’æ¤œå‡ºã—ã¾ã—ãŸï¼
            å…¥åŠ›å€¤ï¼š{{#input_parser_node.numeric_value#}}
            
            ã€è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç‰¹å¾´ã€‘
            - å„æ¡ä»¶åˆ†å²ã‹ã‚‰ç›´æ¥answerãƒãƒ¼ãƒ‰ã¸æ¥ç¶š
            - ä»–ã®åˆ†å²ã®ãƒãƒ¼ãƒ‰å‡ºåŠ›ã‚’å‚ç…§ã—ãªã„
            - Variable not foundã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„å®‰å…¨ãªè¨­è¨ˆ
            
            ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§å®‰å…¨ã§ã™ã€‚
          desc: "é«˜ã‚¹ã‚³ã‚¢ã®å›ç­”"
          selected: false
          title: "ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼šé«˜ã‚¹ã‚³ã‚¢å›ç­”"
          type: answer
          variables: []
        height: 200
        id: pattern1_high_answer_node
        position:
          x: 1250
          y: 0
        positionAbsolute:
          x: 1250
          y: 0
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            ğŸ¯ ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼šç‹¬ç«‹answerå‹ãƒ†ã‚¹ãƒˆçµæœ
            
            ğŸ“Š ä¸­ã‚¹ã‚³ã‚¢ï¼ˆ50-79ï¼‰ã‚’æ¤œå‡ºã—ã¾ã—ãŸ
            å…¥åŠ›å€¤ï¼š{{#input_parser_node.numeric_value#}}
            
            ã€è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç‰¹å¾´ã€‘
            - å„æ¡ä»¶åˆ†å²ã‹ã‚‰ç›´æ¥answerãƒãƒ¼ãƒ‰ã¸æ¥ç¶š
            - ä»–ã®åˆ†å²ã®ãƒãƒ¼ãƒ‰å‡ºåŠ›ã‚’å‚ç…§ã—ãªã„
            - Variable not foundã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„å®‰å…¨ãªè¨­è¨ˆ
            
            ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§å®‰å…¨ã§ã™ã€‚
          desc: "ä¸­ã‚¹ã‚³ã‚¢ã®å›ç­”"
          selected: false
          title: "ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼šä¸­ã‚¹ã‚³ã‚¢å›ç­”"
          type: answer
          variables: []
        height: 200
        id: pattern1_medium_answer_node
        position:
          x: 1250
          y: 100
        positionAbsolute:
          x: 1250
          y: 100
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            ğŸ¯ ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼šç‹¬ç«‹answerå‹ãƒ†ã‚¹ãƒˆçµæœ
            
            ğŸ“‰ ä½ã‚¹ã‚³ã‚¢ï¼ˆ50æœªæº€ï¼‰ã‚’æ¤œå‡ºã—ã¾ã—ãŸ
            å…¥åŠ›å€¤ï¼š{{#input_parser_node.numeric_value#}}
            
            ã€è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç‰¹å¾´ã€‘
            - å„æ¡ä»¶åˆ†å²ã‹ã‚‰ç›´æ¥answerãƒãƒ¼ãƒ‰ã¸æ¥ç¶š
            - ä»–ã®åˆ†å²ã®ãƒãƒ¼ãƒ‰å‡ºåŠ›ã‚’å‚ç…§ã—ãªã„
            - Variable not foundã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„å®‰å…¨ãªè¨­è¨ˆ
            
            ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§å®‰å…¨ã§ã™ã€‚
          desc: "ä½ã‚¹ã‚³ã‚¢ã®å›ç­”ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰"
          selected: false
          title: "ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼šä½ã‚¹ã‚³ã‚¢å›ç­”"
          type: answer
          variables: []
        height: 200
        id: pattern1_low_answer_node
        position:
          x: 1250
          y: 200
        positionAbsolute:
          x: 1250
          y: 200
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          type: if-else
          cases:
            - id: high_level_case
              case_id: high_level_case
              conditions:
                - variable_selector:
                    - input_parser_node
                    - test_value
                  comparison_operator: contains
                  value: "é«˜"
              logical_operator: and
            - id: medium_level_case
              case_id: medium_level_case
              conditions:
                - variable_selector:
                    - input_parser_node
                    - test_value
                  comparison_operator: contains
                  value: "ä¸­"
              logical_operator: and
          desc: "ãƒ‘ã‚¿ãƒ¼ãƒ³2ï¼šé›†ç´„å‹ï¼ˆã™ã¹ã¦ã®åˆ†å²ãŒ1ã¤ã®ãƒãƒ¼ãƒ‰ã«é›†ç´„ï¼‰"
          selected: false
          title: "ãƒ‘ã‚¿ãƒ¼ãƒ³2ï¼šãƒ¬ãƒ™ãƒ«åˆ¤å®š"
        height: 198
        id: pattern2_level_check_node
        position:
          x: 950
          y: 350
        positionAbsolute:
          x: 950
          y: 350
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          model:
            provider: openai
            name: gpt-4o
            mode: chat
          prompt_template:
            - id: system-high-1
              role: system
              text: "é«˜ãƒ¬ãƒ™ãƒ«ã®å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚"
            - id: user-high-1
              role: user
              text: |
                å…¥åŠ›å€¤ï¼š{{#input_parser_node.test_value#}}
                
                é«˜ãƒ¬ãƒ™ãƒ«ç”¨ã®å‡¦ç†çµæœã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚
                å‡¦ç†ID: HIGH_LEVEL_PROCESS
          completion_params:
            temperature: 0.3
            max_tokens: 200
          structured_output_enabled: false
          vision:
            enabled: false
          context:
            enabled: false
            variable_selector: []
          desc: "é«˜ãƒ¬ãƒ™ãƒ«ã®å‡¦ç†ãƒãƒ¼ãƒ‰"
          selected: false
          title: "é«˜ãƒ¬ãƒ™ãƒ«å‡¦ç†"
          type: llm
        height: 98
        id: pattern2_high_process_node
        position:
          x: 1250
          y: 300
        positionAbsolute:
          x: 1250
          y: 300
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          model:
            provider: openai
            name: gpt-4o
            mode: chat
          prompt_template:
            - id: system-medium-1
              role: system
              text: "ä¸­ãƒ¬ãƒ™ãƒ«ã®å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚"
            - id: user-medium-1
              role: user
              text: |
                å…¥åŠ›å€¤ï¼š{{#input_parser_node.test_value#}}
                
                ä¸­ãƒ¬ãƒ™ãƒ«ç”¨ã®å‡¦ç†çµæœã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚
                å‡¦ç†ID: MEDIUM_LEVEL_PROCESS
          completion_params:
            temperature: 0.3
            max_tokens: 200
          structured_output_enabled: false
          vision:
            enabled: false
          context:
            enabled: false
            variable_selector: []
          desc: "ä¸­ãƒ¬ãƒ™ãƒ«ã®å‡¦ç†ãƒãƒ¼ãƒ‰"
          selected: false
          title: "ä¸­ãƒ¬ãƒ™ãƒ«å‡¦ç†"
          type: llm
        height: 98
        id: pattern2_medium_process_node
        position:
          x: 1250
          y: 400
        positionAbsolute:
          x: 1250
          y: 400
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          model:
            provider: openai
            name: gpt-4o
            mode: chat
          prompt_template:
            - id: system-low-1
              role: system
              text: "ä½ãƒ¬ãƒ™ãƒ«ã®å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚"
            - id: user-low-1
              role: user
              text: |
                å…¥åŠ›å€¤ï¼š{{#input_parser_node.test_value#}}
                
                ä½ãƒ¬ãƒ™ãƒ«ç”¨ã®å‡¦ç†çµæœã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚
                å‡¦ç†ID: LOW_LEVEL_PROCESS
          completion_params:
            temperature: 0.3
            max_tokens: 200
          structured_output_enabled: false
          vision:
            enabled: false
          context:
            enabled: false
            variable_selector: []
          desc: "ä½ãƒ¬ãƒ™ãƒ«ã®å‡¦ç†ãƒãƒ¼ãƒ‰ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰"
          selected: false
          title: "ä½ãƒ¬ãƒ™ãƒ«å‡¦ç†"
          type: llm
        height: 98
        id: pattern2_low_process_node
        position:
          x: 1250
          y: 500
        positionAbsolute:
          x: 1250
          y: 500
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          model:
            provider: openai
            name: gpt-4o
            mode: chat
          prompt_template:
            - id: system-aggregate-1
              role: system
              text: |
                å‡¦ç†çµæœã‚’é›†ç´„ã—ã¦æœ€çµ‚å‡ºåŠ›ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
                å®Ÿè¡Œã•ã‚ŒãŸãƒ‘ã‚¹ã‹ã‚‰ã®å…¥åŠ›ã®ã¿ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚
            - id: user-aggregate-1
              role: user
              text: |
                ãƒ‘ã‚¿ãƒ¼ãƒ³2ï¼šé›†ç´„å‹ã®çµæœã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚
                
                å…ƒã®å…¥åŠ›ï¼š{{#input_parser_node.test_value#}}
                
                ä»¥ä¸‹ã®å‡¦ç†çµæœã‚’çµ±åˆã—ã¦ãã ã•ã„ï¼š
                {{#pattern2_high_process_node.text#}}{{#pattern2_medium_process_node.text#}}{{#pattern2_low_process_node.text#}}
                
                æ³¨ï¼šä¸Šè¨˜ã®ã†ã¡ã€å®Ÿéš›ã«å®Ÿè¡Œã•ã‚ŒãŸãƒãƒ¼ãƒ‰ã®çµæœã®ã¿ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
          completion_params:
            temperature: 0.5
            max_tokens: 300
          structured_output_enabled: false
          vision:
            enabled: false
          context:
            enabled: false
            variable_selector: []
          desc: "ã™ã¹ã¦ã®åˆ†å²ãŒé›†ç´„ã•ã‚Œã‚‹ä¸­å¿ƒãƒãƒ¼ãƒ‰"
          selected: false
          title: "é›†ç´„ãƒãƒ¼ãƒ‰"
          type: llm
        height: 98
        id: pattern2_aggregate_node
        position:
          x: 1550
          y: 400
        positionAbsolute:
          x: 1550
          y: 400
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            ğŸ”„ ãƒ‘ã‚¿ãƒ¼ãƒ³2ï¼šé›†ç´„å‹ãƒ†ã‚¹ãƒˆçµæœ
            
            {{#pattern2_aggregate_node.text#}}
            
            ã€è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç‰¹å¾´ã€‘
            - ã™ã¹ã¦ã®åˆ†å²ãŒ1ã¤ã®é›†ç´„ãƒãƒ¼ãƒ‰ã«æ¥ç¶š
            - é›†ç´„ãƒãƒ¼ãƒ‰ã§çµæœã‚’çµ±åˆ
            - å®Ÿè¡Œã•ã‚ŒãŸãƒ‘ã‚¹ã®çµæœã®ã¿ã‚’å‡¦ç†
            
            ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯è¤‡æ•°ã®å‡¦ç†çµæœã‚’çµ±åˆã™ã‚‹å ´åˆã«æœ‰åŠ¹ã§ã™ã€‚
          desc: "ãƒ‘ã‚¿ãƒ¼ãƒ³2ã®æœ€çµ‚å›ç­”"
          selected: false
          title: "ãƒ‘ã‚¿ãƒ¼ãƒ³2ï¼šå›ç­”"
          type: answer
          variables: []
        height: 200
        id: pattern2_answer_node
        position:
          x: 1850
          y: 400
        positionAbsolute:
          x: 1850
          y: 400
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          type: if-else
          cases:
            - id: high_priority_case
              case_id: high_priority_case
              conditions:
                - variable_selector:
                    - input_parser_node
                    - test_value
                  comparison_operator: is
                  value: "å„ªå…ˆåº¦é«˜"
              logical_operator: and
            - id: medium_priority_case
              case_id: medium_priority_case
              conditions:
                - variable_selector:
                    - input_parser_node
                    - test_value
                  comparison_operator: is
                  value: "å„ªå…ˆåº¦ä¸­"
              logical_operator: and
          desc: "ãƒ‘ã‚¿ãƒ¼ãƒ³3ï¼šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä¿è¨¼å‹ï¼ˆfalseã‚±ãƒ¼ã‚¹ã§å¿…ãšå®Ÿè¡Œï¼‰"
          selected: false
          title: "ãƒ‘ã‚¿ãƒ¼ãƒ³3ï¼šå„ªå…ˆåº¦åˆ¤å®š"
        height: 198
        id: pattern3_priority_check_node
        position:
          x: 950
          y: 700
        positionAbsolute:
          x: 950
          y: 700
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          model:
            provider: openai
            name: gpt-4o
            mode: chat
          prompt_template:
            - id: system-high-priority-1
              role: system
              text: "é«˜å„ªå…ˆåº¦ã®å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚"
            - id: user-high-priority-1
              role: user
              text: |
                {{#input_parser_node.test_value#}}ãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸã€‚
                
                é«˜å„ªå…ˆåº¦ã‚¿ã‚¹ã‚¯ã®å‡¦ç†ã‚’é–‹å§‹ã—ã¾ã™ã€‚
                å³åº§ã®å¯¾å¿œãŒå¿…è¦ã§ã™ã€‚
          completion_params:
            temperature: 0.2
            max_tokens: 200
          structured_output_enabled: false
          vision:
            enabled: false
          context:
            enabled: false
            variable_selector: []
          desc: "é«˜å„ªå…ˆåº¦å‡¦ç†"
          selected: false
          title: "é«˜å„ªå…ˆåº¦å‡¦ç†"
          type: llm
        height: 98
        id: pattern3_high_priority_node
        position:
          x: 1250
          y: 650
        positionAbsolute:
          x: 1250
          y: 650
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          model:
            provider: openai
            name: gpt-4o
            mode: chat
          prompt_template:
            - id: system-medium-priority-1
              role: system
              text: "ä¸­å„ªå…ˆåº¦ã®å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚"
            - id: user-medium-priority-1
              role: user
              text: |
                {{#input_parser_node.test_value#}}ãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸã€‚
                
                ä¸­å„ªå…ˆåº¦ã‚¿ã‚¹ã‚¯ã®å‡¦ç†ã‚’é–‹å§‹ã—ã¾ã™ã€‚
                è¨ˆç”»çš„ãªå¯¾å¿œã‚’è¡Œã„ã¾ã™ã€‚
          completion_params:
            temperature: 0.3
            max_tokens: 200
          structured_output_enabled: false
          vision:
            enabled: false
          context:
            enabled: false
            variable_selector: []
          desc: "ä¸­å„ªå…ˆåº¦å‡¦ç†"
          selected: false
          title: "ä¸­å„ªå…ˆåº¦å‡¦ç†"
          type: llm
        height: 98
        id: pattern3_medium_priority_node
        position:
          x: 1250
          y: 750
        positionAbsolute:
          x: 1250
          y: 750
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          model:
            provider: openai
            name: gpt-4o
            mode: chat
          prompt_template:
            - id: system-default-1
              role: system
              text: "ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ï¼ˆä½å„ªå…ˆåº¦å«ã‚€ï¼‰ã€‚"
            - id: user-default-1
              role: user
              text: |
                å…¥åŠ›å€¤ï¼š{{#input_parser_node.test_value#}}
                
                ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
                ã“ã®ãƒãƒ¼ãƒ‰ã¯å¿…ãšå®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚ã€å®‰å…¨ã«å‚ç…§ã§ãã¾ã™ã€‚
                å‡¦ç†ID: DEFAULT_HANDLER
          completion_params:
            temperature: 0.5
            max_tokens: 200
          structured_output_enabled: false
          vision:
            enabled: false
          context:
            enabled: false
            variable_selector: []
          desc: "ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‡¦ç†ï¼ˆå¿…ãšå®Ÿè¡Œã•ã‚Œã‚‹ï¼‰"
          selected: false
          title: "ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‡¦ç†"
          type: llm
        height: 98
        id: pattern3_default_handler_node
        position:
          x: 1250
          y: 850
        positionAbsolute:
          x: 1250
          y: 850
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            ğŸ›¡ï¸ ãƒ‘ã‚¿ãƒ¼ãƒ³3ï¼šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä¿è¨¼å‹ãƒ†ã‚¹ãƒˆçµæœ
            
            å…¥åŠ›ï¼š{{#input_parser_node.test_value#}}
            
            å‡¦ç†çµæœï¼š
            {{#pattern3_high_priority_node.text#}}{{#pattern3_medium_priority_node.text#}}{{#pattern3_default_handler_node.text#}}
            
            ã€è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç‰¹å¾´ã€‘
            - falseã‚±ãƒ¼ã‚¹ã§å¿…ãšå®Ÿè¡Œã•ã‚Œã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‡¦ç†
            - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¯å¸¸ã«å®‰å…¨ã«å‚ç…§å¯èƒ½
            - äºˆæœŸã—ãªã„å…¥åŠ›ã«ã‚‚å¯¾å¿œã§ãã‚‹å …ç‰¢ãªè¨­è¨ˆ
            
            ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯æƒ³å®šå¤–ã®å…¥åŠ›ã«å¯¾ã™ã‚‹å®‰å…¨æ€§ã‚’æä¾›ã—ã¾ã™ã€‚
          desc: "ãƒ‘ã‚¿ãƒ¼ãƒ³3ã®çµ±åˆå›ç­”"
          selected: false
          title: "ãƒ‘ã‚¿ãƒ¼ãƒ³3ï¼šå›ç­”"
          type: answer
          variables: []
        height: 250
        id: pattern3_answer_node
        position:
          x: 1550
          y: 750
        positionAbsolute:
          x: 1550
          y: 750
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
      - data:
          answer: |
            ğŸ“Š å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ†ã‚¹ãƒˆæ¦‚è¦
            
            ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€æ›´æ–°ã•ã‚ŒãŸIF_ELSEãƒ«ãƒ¼ãƒ«ã«åŸºã¥ã3ã¤ã®è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ï¼š
            
            **ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼šç‹¬ç«‹answerå‹**
            - å„æ¡ä»¶åˆ†å²ã‹ã‚‰ç›´æ¥answerãƒãƒ¼ãƒ‰ã¸æ¥ç¶š
            - æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§å®‰å…¨
            - Variable not foundã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„
            
            **ãƒ‘ã‚¿ãƒ¼ãƒ³2ï¼šé›†ç´„å‹**
            - ã™ã¹ã¦ã®åˆ†å²ãŒ1ã¤ã®ãƒãƒ¼ãƒ‰ã«é›†ç´„
            - è¤‡æ•°ã®å‡¦ç†çµæœã‚’çµ±åˆå¯èƒ½
            - å®Ÿè¡Œã•ã‚ŒãŸãƒ‘ã‚¹ã®çµæœã®ã¿ã‚’å‡¦ç†
            
            **ãƒ‘ã‚¿ãƒ¼ãƒ³3ï¼šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä¿è¨¼å‹**
            - falseã‚±ãƒ¼ã‚¹ã§å¿…ãšå®Ÿè¡Œã•ã‚Œã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‡¦ç†
            - æƒ³å®šå¤–ã®å…¥åŠ›ã«ã‚‚å¯¾å¿œ
            - å …ç‰¢æ€§ãŒé«˜ã„
            
            å„ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å€‹åˆ¥ã«ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„ã€‚
          desc: "å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã®èª¬æ˜"
          selected: false
          title: "å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³èª¬æ˜"
          type: answer
          variables: []
        height: 374
        id: all_pattern_test_answer_node
        position:
          x: 950
          y: 950
        positionAbsolute:
          x: 950
          y: 950
        selected: false
        sourcePosition: right
        targetPosition: left
        type: custom
        width: 244
    viewport:
      x: 0
      y: 0
      zoom: 0.5