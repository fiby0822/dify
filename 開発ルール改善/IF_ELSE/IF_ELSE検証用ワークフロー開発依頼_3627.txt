# Dify YMLファイル作成依頼プロンプト

## 要件
顧客の問い合わせを自動分類し、適切な回答を生成するカスタマーサポートワークフローを作成してください。

### ワークフローの機能：
1. 顧客からの問い合わせテキストを受け付ける
2. 問い合わせ内容を分析し、以下の項目を抽出する：
   - 問い合わせタイプ（製品問題、料金、技術サポート、その他）
   - 緊急度スコア（0-100の数値）
   - キーワードの有無（"返金"、"故障"、"至急"などの特定キーワード）
3. IF_ELSEノードを使用して以下の条件分岐を行う：
   - 緊急度が80以上の場合 → 緊急対応チームへのエスカレーション
   - 緊急度が50以上80未満で、キーワード"返金"を含む場合 → 返金対応フロー
   - 緊急度が50以上80未満で、キーワード"故障"を含む場合 → 技術サポートフロー
   - 緊急度が50未満の場合 → 一般問い合わせ対応
   - その他（デフォルト） → 標準対応フロー
4. 各分岐先で適切な回答テンプレートを生成する

### 技術的要件：
- モード：advanced-chat
- IF_ELSEノードでは以下の比較演算子を使用すること：
  - 数値比較：>=、<=、>、< （ASCII文字を使用）
  - 文字列比較：contains、not contains
- 各条件には必ず一意なIDを設定すること
- case_idフィールドを必ず設定すること
- エッジ接続時のsourceHandleはcase_idと一致させること

## アウトプットフォルダパス
/Users/tatsuya/Documents/01_fiby/09_ゼット/Dev/IF_ELSE

## 参考資料フォルダパス（あれば）
なし

## コーディングルール
Dify YMLファイルの作成にあたっては、以下のコーディングルールに従ってください：

### 1. 全体コーディングルール
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/全体コーディングルール/全体コーディングルール.md を参照してください。

### 2. コンポーネント別コーディングルール
各コンポーネントを使用する際は、/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/コンポーネント別コーディングルール フォルダ内の該当するtxtファイルを参照してください。
特に今回は「コンポーネント記述ルール_IF_ELSE.txt」を重点的に参照してください。

### 3. 品質チェック
YMLファイル作成後は
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/品質チェック/品質チェックリスト.md
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/品質チェック/クラッシュ事項チェックリスト.md
を参照し、必ずセルフレビューを実施してください。チェックに引っかかった場合は、ymlファイルを改修すること。

### 4. 特に注意すべきポイント
- 比較演算子はASCII文字（>=、<=、!=）を使用すること（Unicode文字は使用禁止）
- IF_ELSEノードの各条件には必ずIDフィールドを設定すること
- case_idフィールドは必須（idと同じ値を設定）
- YAMLコメント（#で始まる行）は一切含めないこと
- エッジのisInLoopフィールドは必ず設定すること（通常はfalse）
- fiby_version: "0.1.0"を必ず含めること
- graphセクションを正しく構造化すること