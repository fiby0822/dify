# Dify YMLファイル作成依頼プロンプト

## 要件
更新されたLLMコンポーネントのコーディングルールが正しく動作することを検証するためのDifyアプリケーションを作成してください。
特に、memory設定の新しいルール（省略推奨、完全構造必須）を検証する必要があります。

### 検証項目
1. **memory設定の検証**
   - memory設定を省略したLLMノード（推奨パターン）
   - memory設定を完全な構造で記述したLLMノード
   - 両パターンが正常に動作することを確認

2. **必須パラメータの検証**
   - すべての必須パラメータが正しく設定されているか
   - 外側のtype属性が"custom"、data内のtype属性が"llm"
   - structured_output_enabled、vision.enabledがfalse
   - contextフィールドが適切に設定されているか

3. **プロンプトテンプレートの検証**
   - 各プロンプトにユニークなidが設定されているか
   - systemロールとuserロールの使い分け

### アプリケーションの内容
以下の構成でチャットアプリケーションを作成してください：
1. ユーザーからの質問を受け取る（startノード）
2. 質問を分析するLLMノード（memory設定を省略 - 推奨パターン）
3. 回答を生成するLLMノード（memory設定を完全構造で記述）
4. 最終的な回答を表示（answerノード）

各LLMノードで異なるmemory設定パターンを使用し、新しいルールに従った実装が正しく動作することを確認できるようにしてください。

### 特別な注意事項
- memory設定を省略する場合は、memoryフィールド自体を記述しない
- memory設定を記述する場合は、window（enabled, size）とrole_prefixを含む完全な構造にする
- 簡略記法（memory: { enabled: false }）は絶対に使用しない

## アウトプットフォルダパス
/Users/tatsuya/Documents/01_fiby/09_ゼット/Dev/LLM

## 参考資料フォルダパス（あれば）
なし

## コーディングルール
Dify YMLファイルの作成にあたっては、以下のコーディングルールに従ってください：

### 1. 全体コーディングルール
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/全体コーディングルール/全体コーディングルール.md を参照してください。

### 2. コンポーネント別コーディングルール
各コンポーネントを使用する際は、/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/コンポーネント別コーディングルール フォルダ内の該当するtxtファイルを参照してください。
特に、更新されたコンポーネント記述ルール_LLM.txt のmemory設定に関する新しいルールを厳密に遵守してください。

### 3. 品質チェック
YMLファイル作成後は、/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/品質チェック/品質チェックリスト.md を参照し、必ずセルフレビューを実施してください。

### 4. ファイル名
「改善ルール検証_LLM_3214.yml」を使用してください。