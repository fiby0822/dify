# Dify YMLファイル作成依頼プロンプト

## 要件
LLMコンポーネントの記述ルールが正しく動作するかを検証するためのDifyアプリケーションを作成してください。
以下のすべての機能を網羅的にテストする必要があります：

### 検証項目
1. **必須パラメータの検証**
   - すべての必須パラメータが正しく設定されているか
   - 外側のtype属性が"custom"、data内のtype属性が"llm"になっているか
   - positionAbsoluteがpositionと同じ値になっているか
   - height/widthが適切に設定されているか

2. **プロンプトテンプレートの検証**
   - systemロールとuserロールの両方を使用
   - 各プロンプトにユニークなidが設定されているか
   - 変数参照（{{#node_id.variable#}}形式）が正しく機能するか

3. **必須フィールドの検証**
   - structured_output_enabled: false が設定されているか
   - vision.enabled: false が設定されているか
   - context フィールドが適切に設定されているか

4. **advanced-chatモードでの動作検証**
   - startノードのvariablesが空配列[]になっているか
   - システム変数（{{#sys.query#}}）の参照が機能するか

5. **オプションパラメータの検証**
   - completion_params（temperature、max_tokens等）の動作
   - memory機能の有効/無効切り替え

### アプリケーションの内容
以下の流れで動作するチャットアプリケーションを作成してください：
1. ユーザーからの入力を受け取る
2. 前処理用のLLMノード（temperature=0.1で事実確認）
3. メイン処理用のLLMノード（temperature=0.7で創造的な回答生成）
4. 後処理用のLLMノード（出力の整形）
5. 最終的な回答を表示

各LLMノードで異なる設定を使用し、すべての機能が正しく動作することを確認できるようにしてください。

## アウトプットフォルダパス
/Users/tatsuya/Documents/01_fiby/09_ゼット/Dev/LLM

## 参考資料フォルダパス（あれば）
なし

## コーディングルール
Dify YMLファイルの作成にあたっては、以下のコーディングルールに従ってください：

### 1. 全体コーディングルール
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/全体コーディングルール/全体コーディングルール.md を参照してください。

### 2. コンポーネント別コーディングルール
各コンポーネントを使用する際は、/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/コンポーネント別コーディングルール フォルダ内の該当するtxtファイルを参照してください。
特に、コンポーネント記述ルール_LLM.txt の内容を厳密に遵守してください。

### 3. 品質チェック
YMLファイル作成後は、/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/品質チェック/品質チェックリスト.md を参照し、必ずセルフレビューを実施してください。

### 4. 特別な注意事項
- YAMLコメントはノード定義の外側に配置すること（クラッシュ防止）
- app.mode は "advanced-chat" を使用すること
- ファイル名には「検証_LLM_7892.yml」を使用すること