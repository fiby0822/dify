# Dify YMLファイル作成依頼プロンプト

## 要件
LLMコンポーネントの更新された記述ルールに基づいて、以下の検証項目を満たすYMLファイルを作成してください：

### 検証対象項目
1. **必須パラメータの完全性確認**
   - すべての必須パラメータが正しく設定されているか
   - 外側のtype属性が"custom"になっているか
   - data.typeが"llm"になっているか
   - height/width、positionAbsolute等の必須項目が含まれているか

2. **プロンプトテンプレート構造の検証**
   - prompt_templateが配列形式で記述されているか
   - 各要素にid属性（ユニークID）が設定されているか
   - systemロールとuserロールの両方を含む構成になっているか
   - 変数参照（{{#node_id.variable#}}形式）が正しく記述されているか

3. **特殊設定項目の検証**
   - structured_output_enabledがfalseに設定されているか
   - vision.enabledがfalseに設定されているか
   - contextフィールドが適切に設定されているか

4. **advanced-chatモード特有の検証**
   - startノードのvariablesが空配列[]になっているか
   - ユーザー入力の参照が{{#sys.query#}}を使用しているか
   - app.modeがadvanced-chatに設定されているか

5. **更新されたルールの反映**
   - providerにシンプルな形式（"openai"など）を使用しているか
   - YAMLファイル内にコメントが含まれていないか
   - 全ての必須セクション（dependencies、kind、version等）が含まれているか

### 実装内容
以下の機能を持つカスタマーサポートアシスタントを実装してください：
- ユーザーからの問い合わせを受け取る（sys.queryを使用）
- 問い合わせ内容を分析して適切な回答を生成する
- advanced-chatモードで動作する

## アウトプットフォルダパス
/Users/tatsuya/Documents/01_fiby/09_ゼット/Dev/LLM

## 参考資料フォルダパス（あれば）
なし

## コーディングルール
Dify YMLファイルの作成にあたっては、以下のコーディングルールに従ってください：

### 1. 全体コーディングルール
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/全体コーディングルール/全体コーディングルール.md を参照してください。
特に以下の点に注意：
- YAMLファイル内にコメントを含めない
- advanced-chatモードを使用する
- 全ての必須セクションを含める

### 2. コンポーネント別コーディングルール
各コンポーネントを使用する際は、/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/コンポーネント別コーディングルール フォルダ内の該当するtxtファイルを参照してください。
特に、コンポーネント記述ルール_LLM.txt を必ず参照し、記載されているすべての必須パラメータと注意事項を遵守してください。

### 3. 品質チェック
YMLファイル作成後は、/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/品質チェック/品質チェックリスト.md を参照し、必ずセルフレビューを実施してください。

### 4. 追加の検証要件
- 作成したYMLファイルが、更新されたルールに完全準拠していることを確認
- advanced-chatモード特有の制約（startノード変数は空、sys.query使用）を遵守
- YAMLファイル内にコメントが一切含まれていないことを確認
- すべての必須パラメータが含まれていることを二重チェック