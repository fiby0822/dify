# Dify YMLファイル作成依頼プロンプト

## 要件
Google Sheetsと連携した在庫管理判定ワークフローを作成してください。

### ワークフローの流れ：
1. startノードからユーザー入力を受け付ける（商品名）
2. Google Sheetsから在庫データを取得（batch_get）
   - シート名：INVENTORY
   - 範囲：A1:C10（商品名、在庫数、最小在庫数）
3. 取得したデータをtemplate-transformで整形
4. LLMノードで指定商品の在庫数を抽出
5. IF_ELSEノードで在庫状況を判定
   - 在庫切れ（0個）
   - 在庫不足（1-10個）
   - 在庫充分（11個以上）
6. 各分岐でtemplate-transformを使ってメッセージを作成
7. 結果をGoogle Sheetsに記録（batch_update）
   - シート名：LOG
   - 記録内容：日時、商品名、在庫状況、対応内容
8. endノードで結果を表示

### 技術要件：
- version: 0.3.0を使用
- Codeノードは使用しない
- template-transformノードを活用
- Google Sheetsのmarketplaceプラグインを使用

## アウトプットフォルダパス
/Users/tatsuya/Documents/01_fiby/09_ゼット/Dev/

## 参考資料フォルダパス（あれば）
なし

## コーディングルール
Dify YMLファイルの作成にあたっては、以下のコーディングルールに従ってください：

### 1. 全体コーディングルール
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/全体コーディングルール/ 
の全てのルールを参照してください。

### 2. コンポーネント別コーディングルール
各コンポーネントを使用する際は、/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/コンポーネント別コーディングルール
フォルダ内の使用するコンポーネントについてのtxtファイルを必ず参照してください。

### 3. 品質チェック
YMLファイル作成後は
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/品質チェック/品質チェックリスト.md
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/品質チェック/クラッシュ事項チェックリスト.md
を参照し、必ずセルフレビューを実施してください。チェックに引っかかった場合は、ymlファイルを改修すること。

### template-transformノードに関する重要な注意事項

template-transformノードを使用する場合、以下の記法ルールを必ず守ってください：

1. **変数参照は{{ 変数名 }}形式のみ使用**
   - ❌ 間違い: {{#変数名#}}
   - ✅ 正解: {{ 変数名 }}

2. **フィルター使用時も同様**
   - ❌ 間違い: {{#変数 | trim | tojson#}}
   - ✅ 正解: {{ 変数 | trim | tojson }}

3. **Google Sheetsデータの参照**
   - batch_get出力は配列形式
   - 必ず[0]でアクセス: sheet_data[0].values

これらのルールを守らないと、実行時にクラッシュします。