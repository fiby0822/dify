# Dify YMLファイル作成依頼プロンプト

## 要件
画像ファイルをアップロードしてOCR処理を行うシンプルなワークフローを作成してください。
このワークフローは画像認識（OCR/Vision）コンポーネントの新しいルールを検証するためのものです。

### ワークフローの仕様
1. **開始ノード**: ユーザーから画像ファイルを受け付ける
2. **OCR処理ノード**: Vision対応LLMを使用して画像内のテキストを抽出
3. **終了ノード**: OCR結果を出力

### 技術仕様
- **LLMモデル**: gpt-4o（Vision対応）
- **Vision設定**: enabled: true、detail: high（高精度OCR）
- **対応ファイル形式**: JPG、JPEG、PNG、WEBP、HEIC、PDF
- **出力形式**: 画像から抽出したテキスト

### プロンプト例
```
システムプロンプト: 画像内のテキストを正確に読み取り、そのまま出力してください。レイアウトを保持し、読み取れない部分は[読み取り不可]と記載してください。
ユーザープロンプト: アップロードされた画像のテキストを読み取ってください。
```

### 制約事項
- Codeノードは使用しない
- version: 0.3.0を使用する
- structured_output_enabled: falseとする

## アウトプットフォルダパス
/Users/tatsuya/Documents/01_fiby/09_ゼット/Dev/

## コーディングルール
Dify YMLファイルの作成にあたっては、以下のコーディングルールに従ってください：

### 1. 全体コーディングルール
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/全体コーディングルール/ 
の全てのルールを参照してください。

### 2. コンポーネント別コーディングルール
各コンポーネントを使用する際は、/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/コンポーネント別コーディングルール
フォルダ内の使用するコンポーネントについてのtxtファイルを必ず参照してください。
特に「コンポーネント記述ルール_画像認識.txt」を重点的に参照してください。

### 3. 品質チェック
YMLファイル作成後は
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/品質チェック/品質チェックリスト.md
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/品質チェック/クラッシュ事項チェックリスト.md
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/品質チェック/コードチェック.md
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/品質チェック/エラー事例集.md
を参照し、必ずセルフレビューを実施してください。チェックに引っかかった場合は、ymlファイルを改修すること。

### template-transformノードに関する重要な注意事項

template-transformノードを使用する場合、以下の記法ルールを必ず守ってください：

1. **変数参照は{{ 変数名 }}形式のみ使用**
   - ❌ 間違い: {{#変数名#}}
   - ✅ 正解: {{ 変数名 }}

2. **フィルター使用時も同様**
   - ❌ 間違い: {{#変数 | trim | tojson#}}
   - ✅ 正解: {{ 変数 | trim | tojson }}

3. **Google Sheetsデータの参照**
   - batch_get出力は配列形式
   - 必ず[0]でアクセス: sheet_data[0].values

これらのルールを守らないと、実行時にクラッシュします。