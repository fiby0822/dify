# Dify YMLファイル作成依頼プロンプト

## 要件
商品在庫管理の自動判定システムを作成してください。
ユーザーが入力した商品名と在庫数に基づいて、以下の条件で発注の必要性を判定します：

1. 在庫数が10個以下：緊急発注（3日以内に発注必須）
2. 在庫数が11〜30個：通常発注（1週間以内に発注推奨）
3. 在庫数が31〜50個：発注検討（2週間以内に検討）
4. 在庫数が51個以上：在庫十分（発注不要）

また、商品カテゴリーによる優先度も考慮：
- 「生鮮食品」カテゴリー：上記の基準値を半分にして判定
- その他のカテゴリー：通常の基準で判定

## アウトプットフォルダパス
/Users/tatsuya/Documents/01_fiby/09_ゼット/Dev/

## 参考資料フォルダパス（あれば）
なし

## コーディングルール
Dify YMLファイルの作成にあたっては、以下のコーディングルールに従ってください：

### 1. 全体コーディングルール
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/全体コーディングルール/ 
の全てのルールを参照してください。

### 2. コンポーネント別コーディングルール
各コンポーネントを使用する際は、/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/コンポーネント別コーディングルール
フォルダ内の使用するコンポーネントについてのtxtファイルを必ず参照してください。
特に「コンポーネント記述ルール_IF_ELSE.txt」を重点的に参照してください。

### 3. 品質チェック
YMLファイル作成後は
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/品質チェック/品質チェックリスト.md
/Users/tatsuya/Documents/01_fiby/09_ゼット/コーディングルール/品質チェック/クラッシュ事項チェックリスト.md
を参照し、必ずセルフレビューを実施してください。チェックに引っかかった場合は、ymlファイルを改修すること。

### 重要な注意事項（必ず確認）
作成するYMLファイルでは以下を必ず守ってください：

1. app.use_icon_as_answer_icon: false（または true）を必ず設定
2. エッジのdata.isInLoop: falseが必須
3. version: 0.3.0を使用（古いバージョンは使用しない）
4. advanced-chatモードではstartノードのvariablesを空配列[]に
5. すべてのエッジにselected: falseとzIndex: 0を設定
6. IF_ELSEノードでは以下に特に注意：
   - 全てのケースにlogical_operatorを設定（"and"または"or"）
   - case_idフィールドを必ず設定（idと同じ値）
   - 比較演算子はASCII文字のみ使用（">="、"<="、"!="）
   - 数値の直接比較は避け、可能な限り文字列検索（contains）を使用
   - sourceHandleはケースのcase_idまたは"false"を正確に指定
   - 分岐後の変数参照は実行されるパスのみを参照

### YAMLコメントについて
- **絶対に禁止**：YAMLファイル内にコメント（#で始まる行）を含めないでください
- 特にnodes配列、edges配列の要素内にコメントを入れるとクラッシュします
- 説明が必要な場合は、各ノードのdescフィールドを使用してください

### 構造について（advanced-chatモードの場合）
- 必ずworkflow.graphセクションを作成し、その中にedgesとnodesを配置してください
- workflow.featuresセクションは必須です

### フィールド名について
- エッジのdataには`isInLoop: false`を使用
- targetTypeには実際のノードタイプを指定（customではない）

### 検証ポイント（特に確認してほしい内容）
1. IF_ELSEノードの複数条件分岐が正しく動作するか
2. 数値比較を含む条件判定が適切に実装されているか
3. デフォルトケース（false）の処理が適切か
4. 各分岐から独立したanswerノードへの接続が正しいか
5. エラーが発生しやすい以下のポイントを確認：
   - logical_operatorの設定漏れがないか
   - case_idの設定漏れがないか
   - sourceHandleとcase_idの完全一致
   - 比較演算子がASCII文字のみか