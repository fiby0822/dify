# Dify開発用 全体コーディングルール - インデックス

## 概要

このドキュメントは、Dify開発用全体コーディングルールの目次とクイックリファレンスです。
大規模な単一ファイル（33,000トークン超）を機能別に分割し、効率的な参照と保守を可能にしました。

## 基本方針

### 品質保証の原則
- **エラーフリー**: インポート時にエラーが発生しないこと
- **完全性**: ワークフロー全体が破綻なく動作すること
- **保守性**: 将来の修正・拡張が容易であること
- **可読性**: 他の開発者が理解しやすい構造であること

### 開発プロセス
1. 要件定義の明確化
2. ワークフロー設計
3. コンポーネント実装
4. 品質チェック
5. 動作確認

## ファイル構成

### 0. [最頻出エラートップ5](./00_最頻出エラートップ5.md)
**🚨 超最重要・開発前に必ず確認！**
- 90%以上のエラーを防げる最重要チェックリスト
- IF-ELSE、Jinja2、Vision機能の頻出エラーと対策
- クイックチェックリストで素早く確認

### 1. [基本構造とエラー防止](./01_基本構造とエラー防止.md)
**最重要・必読**
- よくある失敗パターン（セクション0）
- YAMLファイル基本構造（セクション2）
- 命名規則（セクション3）
- 型定義リファレンス基本編（セクション13）
- 最小構成テンプレート（セクション14）

### 2. [ワークフロー設計](./02_ワークフロー設計.md)
- ワークフロー設計原則（セクション4）
- ナレッジベース管理（セクション5）
- システム変数リファレンス（セクション16）
- モード別ベストプラクティス（セクション17）
- コード実行ノードの注意事項（セクション18）

### 3. [変数とデータ管理](./03_変数とデータ管理.md)
- 変数管理（セクション6）
- 変数参照形式の詳細
- 変数スコープの説明
- データ型と変換規則

### 4. [品質とセキュリティ](./04_品質とセキュリティ.md)
- 品質管理（セクション7）
- セキュリティ考慮事項（セクション8）
- パフォーマンス最適化（セクション9）
- 互換性とアップデート（セクション11）

### 5. [トラブルシューティング](./05_トラブルシューティング.md)
**エラー発生時の必読文書**
- トラブルシューティング指針（セクション12）
- 最終チェックリスト（セクション20）
- よくある質問（FAQ）（セクション21）
- エラー別対処法の詳細

### 6. [外部連携とツール](./06_外部連携とツール.md)
- マーケットプレイス依存関係管理（セクション24）
- トークン数管理とモデル選択（セクション25）
- 外部ツール（Tool）ノードの使用（セクション26）

### 7. [ドキュメントと設定](./07_ドキュメントと設定.md)
- ドキュメント化（セクション10）
- 開発時の推奨フロー（セクション15）
- パフォーマンスと拡張性（セクション19）
- デバッグ設定管理（セクション22）
- hashフィールドの取り扱い（セクション23）

### 8. [詳細リファレンス](./08_詳細リファレンス.md)
- 型定義リファレンス詳細版（セクション13拡張）
- 全フィールドの完全な仕様
- 属性値の有効範囲
- バージョン別の差異

## クイックスタートガイド

### 初めてDify YAMLを作成する場合
1. まず[基本構造とエラー防止](./01_基本構造とエラー防止.md)の「最小構成テンプレート」を参照
2. [ワークフロー設計](./02_ワークフロー設計.md)の「モード別ベストプラクティス」でモードを選択
3. 作成後は[トラブルシューティング](./05_トラブルシューティング.md)の「最終チェックリスト」で確認

### エラーが発生した場合
1. [基本構造とエラー防止](./01_基本構造とエラー防止.md)の「よくある失敗パターン」を確認
2. [トラブルシューティング](./05_トラブルシューティング.md)でエラー別の対処法を検索
3. 解決しない場合は[よくある質問（FAQ）](./05_トラブルシューティング.md#faq)を参照

### 特定の機能を実装する場合
- Google Sheets連携 → [外部連携とツール](./06_外部連携とツール.md)
- 変数の受け渡し → [変数とデータ管理](./03_変数とデータ管理.md)
- パフォーマンス改善 → [品質とセキュリティ](./04_品質とセキュリティ.md)

## よく使う項目への索引

### 必須フィールド一覧
→ [基本構造とエラー防止](./01_基本構造とエラー防止.md#必須フィールド)

### 比較演算子の使い方
→ [トラブルシューティング](./05_トラブルシューティング.md#比較演算子)

### advanced-chatモードの設定
→ [ワークフロー設計](./02_ワークフロー設計.md#advanced-chat)

### トークン数の管理
→ [外部連携とツール](./06_外部連携とツール.md#トークン数管理)

### YAMLコメントの制限
→ [基本構造とエラー防止](./01_基本構造とエラー防止.md#yamlコメント)

## 検索用キーワード
- インポートエラー、クラッシュ、必須フィールド
- advanced-chat、workflow、モード選択
- 変数参照、sys.query、{{#node_id.field#}}
- Google Sheets、マーケットプレイス、dependencies
- トークン数、GPT-4、max_tokens
- isInLoop、targetType、エッジ設定
- YAMLコメント、# 記号、クラッシュ原因

## 更新履歴
- 2025.07.03: ファイル分割によるリファクタリング実施
- 元の全体コーディングルール.mdの全内容を8ファイルに分割
- 相互参照とインデックスを追加して使いやすさを向上

詳細な改訂履歴については[CHANGELOG.md](./CHANGELOG.md)を参照してください。

## 注意事項
- 各ファイルは独立して参照可能ですが、関連する内容は相互リンクで接続されています
- 更新時は関連ファイルへの影響を確認してください
- 最新の情報は常にこのインデックスから確認してください