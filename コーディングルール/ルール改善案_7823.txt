Difyコーディングルール改善案：Google Sheets操作関連

■改善の背景
現在marketplaceの使用は全面的に禁止されていますが、Google Sheets操作において以下のプラグインについては例外的に許可する必要があります：
- omluc/google_sheets:0.0.2@17f06eaa1d905595e1a76460e7249707a722142353d551cf14aed3d8517c134f

■改善が必要な箇所と具体的な修正内容

【1】全体コーディングルール.md

===修正箇所1（ルール0.9付近）===
現在：
```
### 0.9 マーケットプレイスツールの依存関係未定義
- 症状: Tool not foundエラー
- 原因: dependenciesセクションの記述漏れ
- 対策: 使用するツールのdependencies定義を必ず追加
```

修正後：
```
### 0.9 マーケットプレイスツールの依存関係未定義
- 症状: Tool not foundエラー
- 原因: dependenciesセクションの記述漏れ
- 対策: 使用するツールのdependencies定義を必ず追加

#### 許可されているマーケットプレイスツール
以下のツールに限り、dependenciesでtype: marketplaceの使用が許可されています：
- Google Sheets操作: omluc/google_sheets:0.0.2@17f06eaa1d905595e1a76460e7249707a722142353d551cf14aed3d8517c134f

注意：上記以外のmarketplaceツールの使用は禁止されています。
```

===修正箇所2（provider_typeの説明部分）===
現在の記述に追加：
```
#### Google Sheets使用時の特別な設定
Google Sheetsツールを使用する場合、以下の設定が必要です：

1. dependencies設定（必須）：
```yaml
dependencies:
- current_identifier: null
  type: marketplace  # Google Sheetsのみ許可
  value:
    marketplace_plugin_unique_identifier: omluc/google_sheets:0.0.2@17f06eaa1d905595e1a76460e7249707a722142353d551cf14aed3d8517c134f
```

2. toolノードの設定：
- provider_type: builtin（marketplaceではない）
- provider_id: omluc/google_sheets/google_sheets
- provider_name: omluc/google_sheets/google_sheets

重要：dependenciesではtype: marketplaceを使用しますが、toolノードのprovider_typeはbuiltinを使用してください。
```

【2】コンポーネント記述ルール_GoogleShpredSheet操作.txt

===修正箇所1（冒頭の依存関係説明を強化）===
現在：
```
■依存関係（必須）
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: omluc/google_sheets:0.0.2@17f06eaa1d905595e1a76460e7249707a722142353d551cf14aed3d8517c134f
```

修正後：
```
■依存関係（必須）
【重要】Google Sheetsツールは特別に許可されたマーケットプレイスツールです。
以下の設定を必ず含めてください：

dependencies:
- current_identifier: null
  type: marketplace  # Google Sheetsのみ例外的に許可
  value:
    marketplace_plugin_unique_identifier: omluc/google_sheets:0.0.2@17f06eaa1d905595e1a76460e7249707a722142353d551cf14aed3d8517c134f

注意事項：
- この識別子は完全一致である必要があります
- バージョンを含む全文字列をコピーして使用してください
- 他のmarketplaceツールの使用は引き続き禁止です
```

【3】品質チェックリスト.md

===追加箇所（セクション8.1 Google Sheets操作関連）===
現在の内容に以下を追加：
```
#### 依存関係の確認（更新版）
- [ ] dependenciesセクションに以下が正確に定義されているか：
  ```yaml
  dependencies:
    - current_identifier: null
      type: marketplace  # Google Sheetsは例外的に許可
      value:
        marketplace_plugin_unique_identifier: omluc/google_sheets:0.0.2@17f06eaa1d905595e1a76460e7249707a722142353d551cf14aed3d8517c134f
  ```
- [ ] provider_typeがbuiltinに設定されているか（marketplaceではない）
- [ ] 識別子が完全一致しているか（一文字でも違うとエラー）
- [ ] バージョン番号（:0.0.2）が含まれているか
- [ ] ハッシュ値（@以降）が正確か
```

【4】クラッシュ事項チェックリスト.md

===追加箇所（セクション0.8のGoogle Sheets固有の例を拡充）===
現在：
```
### Google Sheets固有の例
```

修正後：
```
### Google Sheets固有の例
Google Sheetsは特別に許可されたマーケットプレイスツールです。以下の設定が必須です：

```yaml
# 正しい例：Google Sheetsの完全な依存関係定義
dependencies:
  - current_identifier: null
    type: marketplace  # Google Sheetsのみ許可
    value:
      marketplace_plugin_unique_identifier: omluc/google_sheets:0.0.2@17f06eaa1d905595e1a76460e7249707a722142353d551cf14aed3d8517c134f

# toolノードでの設定
- data:
    type: tool
    provider_id: omluc/google_sheets/google_sheets
    provider_name: omluc/google_sheets/google_sheets
    provider_type: builtin  # marketplaceではなくbuiltin
    tool_label: Batch Get
    tool_name: batch_get
```

よくあるエラー：
1. dependenciesを省略 → Tool not foundエラー
2. provider_type: marketplace → 無効な値エラー
3. 識別子の一部のみコピー → 認証エラー
```

===新規追加項目（セクション13.10として追加）===
```
### 13.10 Google Sheets固有の設定ミス

#### 症状
- dependenciesは正しいがツールが動作しない
- provider_typeエラー
- 認証エラー

#### 確認項目
- [ ] **dependenciesでtype: marketplaceを使用（Google Sheetsのみ許可）**
- [ ] **toolノードではprovider_type: builtinを使用**
- [ ] **識別子が一文字も違わず完全一致**
- [ ] **provider_id/provider_nameが3段階形式（omluc/google_sheets/google_sheets）**

#### 重要な注意点
Google Sheetsは現在唯一許可されているmarketplaceツールです。他のmarketplaceツールを使用しようとしないでください。
```

■まとめ
これらの改善により、Google Sheets操作に関する以下の点が明確になります：

1. Google Sheets（omluc/google_sheets:0.0.2）のみmarketplace使用が許可されている
2. dependenciesではtype: marketplaceを使用するが、toolノードのprovider_typeはbuiltinを使用する
3. 識別子は完全一致が必要で、一文字でも違うとエラーになる
4. この例外的な許可は他のmarketplaceツールには適用されない

これにより、開発者がGoogle Sheets連携を適切に実装できるようになり、同時に他のmarketplaceツールの使用を防ぐことができます。